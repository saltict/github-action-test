"use strict";(("undefined"!=typeof self?self:this).webpackChunk_subwallet_webapp=("undefined"!=typeof self?self:this).webpackChunk_subwallet_webapp||[]).push([[6001],{36001:(e,n,a)=>{a.r(n),a.d(n,{default:()=>D});var o=a(56858),t=a(57801),s=a(32204),i=a(75576),l=a(43557),c=a(73160),r=a(92941),d=a(63910),p=a(12162),u=a(99656),m=a(4837),h=a(79385),w=a(17446),g=a(72779),x=a.n(g),f=a(77180),k=a(86267),v=a(78166),b=a(2784),y=a(76699),j=a(73557),C=a(82575),N=a(52322);const S=()=>(0,N.jsx)(t.$_,{}),I="connection-detail-networks-modal",_=e=>{const{className:n,session:a}=e,{namespaces:i,peer:{metadata:r},topic:g}=a,{t:_}=(0,y.$)(),D=(0,l.lm)(),Z=(0,j.s0)(),{token:z}=(0,C.Fg)(),M=(0,b.useMemo)((()=>{try{return(0,o.Ne)(r.url)}catch(e){return r.url}}),[r.url]),$=`https://icons.duckduckgo.com/ip2/${M}.ico`,{activeModal:B,inactiveModal:L}=(0,b.useContext)(p.t),{chainInfoMap:W}=(0,l.v9)((e=>e.chainStore)),{accounts:T}=(0,l.v9)((e=>e.accountState)),G=(0,b.useMemo)((()=>{const e=Object.values(i).map((e=>e.chains||[])).flat();return(0,d.G_)(W,e)}),[i,W]),A=(0,b.useMemo)((()=>(0,d.$w)(T,i)),[T,i]),E=(0,b.useMemo)((()=>({id:"disconnect-connection-modal",okText:_("Disconnect"),okButtonProps:{icon:(0,N.jsx)(u.Z,{phosphorIcon:f.Z,weight:"fill"})},content:_("Once you disconnect, you will no longer see this connection on SubWallet and on your DApp."),subTitle:_("Are you sure you want to disconnect?"),title:_("Disconnect"),type:"error",closable:!0})),[_]),{handleSimpleConfirmModal:F}=(0,l.tv)(E),[H,O]=(0,b.useState)(!1),R=(0,b.useCallback)((()=>{F().then((()=>{O(!0),(0,c.P9e)(g).catch((e=>{console.log(e),D({type:"error",message:_("Fail to disconnect")})}))})).catch(d.ZT).finally((()=>{O(!1)}))}),[F,D,_,g]),X=(0,b.useCallback)((()=>{Z("/wallet-connect/list")}),[Z]),P=(0,b.useCallback)((e=>(0,N.jsx)(t.HL,{accountName:e.name,address:e.address,avatarSize:z.sizeLG},e.address)),[z.sizeLG]),Y=(0,b.useCallback)((e=>{var n;return(0,N.jsx)(m.Z,{name:(null===(n=e.chainInfo)||void 0===n?void 0:n.name)||_("Unknown network ({{slug}})",{replace:{slug:e.slug}}),networkKey:e.slug,networkMainLogoShape:"squircle",networkMainLogoSize:28},e.slug)}),[_]),U=(0,b.useCallback)((()=>(0,N.jsx)(t.rf,{emptyMessage:_("Your accounts will appear here."),emptyTitle:_("No account found"),phosphorIcon:k.Z})),[_]),q=(0,b.useCallback)((()=>{B(I)}),[B]),K=(0,b.useCallback)((()=>{L(I)}),[L]),J=(0,b.useCallback)(((e,n)=>{var a;const o=n.toLowerCase();return null===(a=e.chainInfo)||void 0===a?void 0:a.name.toLowerCase().includes(o)}),[]);return(0,N.jsx)(t.Ar.WithSubHeaderOnly,{className:"setting-pages",onBack:X,rightFooterButton:{icon:(0,N.jsx)(u.Z,{phosphorIcon:f.Z,weight:"fill"}),children:_("Disconnect"),schema:"danger",loading:H,onClick:R},title:_("WalletConnect"),children:(0,N.jsxs)("div",{className:"body-container",children:[(0,N.jsxs)(t.oB,{hasBackgroundWrapper:!0,children:[(0,N.jsx)(t.oB.Default,{className:"dapp-info-container",label:_("DApp"),children:(0,N.jsxs)("div",{className:"dapp-info-content",children:[(0,N.jsx)(h.Z,{className:"dapp-info-img",height:"var(--img-height)",src:$,width:"var(--img-width)"}),(0,N.jsx)("div",{className:"dapp-info-domain",children:M})]})}),(0,N.jsx)(t.oB.Default,{className:"network-container",label:_("Network"),children:(0,N.jsxs)("div",{className:"network-content",onClick:q,children:[(0,N.jsx)(t.FT,{networks:G}),(0,N.jsx)("div",{className:"network-name",children:_("{{number}} network(s)",{replace:{number:G.length}})}),(0,N.jsx)(u.Z,{phosphorIcon:v.Z,size:"sm",weight:"fill"})]})})]}),(0,N.jsx)("div",{className:"total-account",children:_("{{number}} account connected",{replace:{number:A.length}})}),(0,N.jsx)(w.Z.Section,{className:"account-list",displayRow:!0,list:A,renderItem:P,renderWhenEmpty:U,rowGap:"var(--row-gap)"}),(0,N.jsx)(s.I,{className:x()(n,"network-modal"),id:I,onCancel:K,title:_("Connected network"),children:(0,N.jsx)(w.Z.Section,{className:"network-list",displayRow:!0,enableSearchInput:!0,list:G,renderItem:Y,renderWhenEmpty:S,rowGap:"var(--row-gap)",searchFunction:J,searchPlaceholder:_("Network name")})})]})})},D=(0,C.ZP)((e=>{const{className:n}=e,a=(0,j.s0)(),o=(0,b.useContext)(i.R0),{reduxStatus:s,sessions:c}=(0,l.v9)((e=>e.walletConnect)),d=(0,j.UO)().topic,p=(0,b.useMemo)((()=>c[d]),[c,d]);return(0,b.useEffect)((()=>{p||s!==r.s.READY||a("/wallet-connect/list")}),[p,s,a]),p||s!==r.s.READY?(0,N.jsx)(t.FE,{className:x()(n),resolve:o.awaitStores(["walletConnect"]),children:(0,N.jsx)(_,{className:n,session:p})}):null})).withConfig({displayName:"ConnectionDetail",componentId:"sc-gicx43-0"})((({theme:{token:e}})=>({".body-container":{padding:e.padding},"--row-gap":`${e.sizeXS}px`,".dapp-info-container":{".__col.-to-right":{flex:3,".__value":{overflow:"hidden",maxWidth:"100%"}},".dapp-info-content":{display:"flex",flexDirection:"row",gap:e.sizeXS,alignItems:"center",".dapp-info-img":{"--img-height":`${e.sizeLG}px`,"--img-width":`${e.sizeLG}px`},".dapp-info-domain":{overflow:"hidden",textWrap:"nowrap",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},".network-container":{".__col.-to-right":{flex:3,".__value":{overflow:"hidden",maxWidth:"100%"}},".network-content":{display:"flex",flexDirection:"row",gap:e.sizeXS,alignItems:"center",cursor:"pointer"}},".account-list":{margin:`0 -${e.margin}px`,".ant-sw-list-wrapper":{flexBasis:"auto"}},".total-account":{marginTop:e.margin,marginBottom:e.marginXXS,color:e.colorTextTertiary,fontSize:e.fontSizeHeading6,lineHeight:e.lineHeightHeading6},"&.network-modal":{".ant-sw-modal-body":{padding:`${e.padding}px 0 ${e.padding}px`,flexDirection:"column",display:"flex"}}})))}}]);