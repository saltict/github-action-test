"use strict";(("undefined"!=typeof self?self:this).webpackChunk_subwallet_webapp=("undefined"!=typeof self?self:this).webpackChunk_subwallet_webapp||[]).push([[9786],{79786:(e,t,n)=>{n.r(t),n.d(t,{default:()=>G});var o=n(57801),s=n(18608),a=n(64483),i=n(41803),l=n(71870),c=n(33624),r=n(66846),u=n(75576),d=n(57190),p=n(3612),h=n(43557),m=n(32204),g=n(43246),f=n(25690),x=n(72558),y=n(2784),b=n(82575),k=n(52322);const v=(0,b.ZP)((function({className:e="",currentTokenInfo:t,id:n,onCancel:o,tokenBalanceMap:s}){const{t:a}=(0,g.Z)(),i=(()=>{const e=(null==t?void 0:t.symbol)||"",n=t?s[t.slug]:void 0;return[{key:"transferable",symbol:e,label:a("Transferable"),value:n?n.free.value:new x.Z(0)},{key:"locked",symbol:e,label:a("Locked"),value:n?n.locked.value:new x.Z(0)}]})();return(0,k.jsx)(m.I,{className:e,id:n,onCancel:o,title:a("Token details"),children:(0,k.jsx)("div",{className:"__container",children:i.map((e=>(0,k.jsxs)("div",{className:"__row",children:[(0,k.jsx)("div",{className:"__label",children:e.label}),(0,k.jsx)(f.Z,{className:"__value",decimal:0,decimalOpacity:.45,intOpacity:.85,size:14,suffix:e.symbol,unitOpacity:.85,value:e.value})]},e.key)))})})})).withConfig({displayName:"DetailModal",componentId:"sc-6oss6y-0"})((({theme:{token:e}})=>({".__container":{borderRadius:e.borderRadiusLG,backgroundColor:e.colorBgSecondary,padding:"12px 12px 4px"},".__row":{display:"flex",justifyContent:"space-between",marginBottom:e.marginSM},".__label":{paddingRight:e.paddingSM}})));var _=n(89558),w=n(48062),N=n(92280),j=n(99656),S=n(28394),C=n(11283),T=n(62982),Z=n(90766),I=n(35185);const z=(0,b.ZP)((function({balanceValue:e,className:t="",isShrink:n,onClickBack:o,onOpenBuyTokens:s,onOpenReceive:a,onOpenSendFund:i,symbol:l}){const{t:c}=(0,g.Z)(),r=(0,I.v9)((e=>e.accountState.accounts)),u=(0,I.v9)((e=>e.accountState.currentAccount)),d=(0,I.v9)((e=>e.accountState.isAllAccount)),{isShowBalance:p}=(0,I.v9)((e=>e.settings)),h=(0,y.useMemo)((()=>{const e=_.aK[l];if(e){const t=e.support;if(d){for(const e of r)if(t===(0,w.lx)(e.address))return!0}else if(null!=u&&u.address&&t===(0,w.lx)(null==u?void 0:u.address))return!0}return!1}),[r,null==u?void 0:u.address,d,l]);return(0,k.jsxs)("div",{className:`tokens-upper-block ${t} ${n?"-shrink":""}`,children:[(0,k.jsxs)("div",{className:"__top",children:[(0,k.jsx)(N.Z,{className:"__back-button",icon:(0,k.jsx)(j.Z,{customSize:"24px",phosphorIcon:S.Z}),onClick:o,size:"xs",type:"ghost"}),(0,k.jsxs)("div",{className:"__token-display",children:[c("Token"),": ",l]})]}),(0,k.jsxs)("div",{className:"__bottom",children:[(0,k.jsx)(f.Z,{className:"__balance-value",decimal:0,decimalOpacity:.45,hide:!p,prefix:"$",size:38,subFloatNumber:!0,value:e}),(0,k.jsxs)("div",{className:"__action-button-container",children:[(0,k.jsx)(N.Z,{icon:(0,k.jsx)(j.Z,{phosphorIcon:C.Z,size:n?"sm":"md",weight:"duotone"}),onClick:a,shape:"squircle",size:n?"xs":"sm",tooltip:c("Get address")}),(0,k.jsx)("div",{className:"__button-space"}),(0,k.jsx)(N.Z,{icon:(0,k.jsx)(j.Z,{phosphorIcon:T.Z,size:n?"sm":"md",weight:"duotone"}),onClick:i,shape:"squircle",size:n?"xs":"sm",tooltip:c("Send tokens")}),(0,k.jsx)("div",{className:"__button-space"}),(0,k.jsx)(N.Z,{disabled:!h,icon:(0,k.jsx)(j.Z,{phosphorIcon:Z.Z,size:n?"sm":"md",weight:"duotone"}),onClick:s,shape:"squircle",size:n?"xs":"sm",tooltip:c("Buy token")})]})]})]})})).withConfig({displayName:"DetailUpperBlock",componentId:"sc-bgq49z-0"})((({theme:{token:e}})=>({padding:"0px 8px 24px 8px",display:"flex",flexDirection:"column",".__top":{display:"flex",marginBottom:16,alignItems:"center"},".__token-display":{textAlign:"center",flex:1,fontSize:e.fontSizeHeading4,lineHeight:e.lineHeightHeading4,marginRight:40},".ant-btn":{transition:"width, height, padding 0s"},".__back-button":{color:e.colorTextLight1,"&:hover":{color:e.colorTextLight3},"&:active":{color:e.colorTextLight4}},".__balance-value":{textAlign:"center",padding:"0px 8px",lineHeight:e.lineHeightHeading1,fontSize:e.fontSizeHeading1,whiteSpace:"nowrap",overflow:"hidden",".ant-typography":{lineHeight:"inherit"}},".__action-button-container":{display:"flex",justifyContent:"center",padding:"24px 8px 0 8px"},".__button-space":{width:e.size},"&.-shrink":{".__bottom":{display:"flex"},".__balance-value":{textAlign:"left",lineHeight:e.lineHeightHeading2,fontSize:e.fontSizeHeading2,flex:1,".ant-number-prefix, .ant-number-integer":{fontSize:"inherit !important"}},".__action-button-container":{paddingTop:0},".__button-space":{width:e.sizeXS}}})));var R=n(63910),O=n(12162),B=n(72779),H=n.n(B),M=n(76699),D=n(73557),L=n(60241);const A="tokenDetailModalId",E=(e,t)=>{var n;const o=t.toLowerCase(),s=(null===(n=e.chainDisplayName)||void 0===n?void 0:n.toLowerCase())||"";return e.symbol.toLowerCase().includes(o)||s&&s.includes(o)};function $(){const{slug:e}=(0,D.UO)(),t=(0,D.bx)(),n=null==t?void 0:t.searchInput,s=null==t?void 0:t.setDetailTitle,u=(0,h.lm)(),{t:m}=(0,M.$)(),g=(0,D.s0)(),{goHome:f}=(0,h.yu)(),{activeModal:x,inactiveModal:b}=(0,y.useContext)(O.t),{isWebUI:_}=(0,y.useContext)(p.sG),{accountBalance:{tokenBalanceMap:w,tokenGroupBalanceMap:N},tokenGroupStructure:{tokenGroupMap:j}}=(0,y.useContext)(d.Q),S=(0,h.v9)((e=>e.assetRegistry.assetRegistry)),C=(0,h.v9)((e=>e.assetRegistry.multiChainAssetMap)),T=(0,h.v9)((e=>e.accountState.currentAccount)),Z=(0,y.useRef)(null),I=(0,y.useRef)(null),{accountSelectorItems:B,onOpenReceive:$,openSelectAccount:G,openSelectToken:V,selectedAccount:F,selectedNetwork:K,tokenSelectorItems:Y}=(0,h.gV)(e);(0,h.qg)("/home/tokens");const q=(0,y.useMemo)((()=>{if(e){if(C[e])return C[e].symbol;if(S[e])return S[e].symbol}return""}),[e,S,C]),P=(0,y.useMemo)((()=>{if(e){if(N[e])return N[e].total.convertedValue;if(w[e])return w[e].total.convertedValue}return"0"}),[e,w,N]),U=(0,y.useMemo)((()=>{if(e){if(j[e]){const t=[];return j[e].forEach((e=>{const o=w[e];o&&(n?E(o,n)&&t.push(o):t.push(o))})),t.sort(R.XG)}if(w[e])return n&&!E(w[e],n)?[]:[w[e]]}return[]}),[e,j,w,n]),[W,X]=(0,y.useState)(void 0),[J,Q]=(0,y.useState)(!1),ee=(0,y.useCallback)((e=>{const t=e.currentTarget.scrollTop;Q(t>60?e=>{if(!e&&I.current&&Z.current){const e=Z.current.getBoundingClientRect();I.current.style.position="fixed",I.current.style.opacity="0",I.current.style.paddingTop="0",I.current.style.top=`${Math.floor(e.top)}px`,I.current.style.left=`${e.left}px`,I.current.style.right=`${e.right}px`,I.current.style.width=`${e.width}px`,setTimeout((()=>{I.current&&(I.current.style.paddingTop="8px",I.current.style.opacity="1")}),100)}return!0}:e=>(e&&I.current&&(I.current.style.position="absolute",I.current.style.top="0",I.current.style.left="0",I.current.style.right="0",I.current.style.width="100%",I.current.style.opacity="0",setTimeout((()=>{I.current&&(I.current.style.opacity="1")}),100)),!1))}),[]),te=(0,y.useCallback)((()=>{var e;if(((null===(e=Z.current)||void 0===e?void 0:e.scrollTop)||0)>60){if(I.current&&Z.current){const e=Z.current.getBoundingClientRect();I.current.style.top=`${Math.floor(e.top)}px`,I.current.style.left=`${e.left}px`,I.current.style.right=`${e.right}px`,I.current.style.width=`${e.width}px`}}else I.current&&(I.current.style.top="0",I.current.style.left="0",I.current.style.right="0",I.current.style.width="100%")}),[]),ne=(0,y.useCallback)((()=>{X(void 0)}),[]),oe=(0,y.useCallback)((e=>{X({slug:e.slug,symbol:e.symbol})}),[]),se=(0,y.useCallback)((()=>{T&&T.isReadOnly?u({message:m("The account you are using is watch-only, you cannot send assets with it"),type:"info",duration:3}):g("/transaction/send-fund",e?{state:{slug:e}}:void 0)}),[T,g,u,m,e]),ae=(0,y.useCallback)((()=>{g("/buy-tokens",{state:{symbol:q}})}),[g,q]);(0,y.useEffect)((()=>{W?x(A):b(A)}),[x,W,b]),(0,y.useEffect)((()=>{Q(!1)}),[e]),(0,y.useEffect)((()=>{U.length||n||f()}),[f,n,U.length]),(0,y.useEffect)((()=>(window.addEventListener("resize",te),()=>{window.removeEventListener("resize",te)})),[te]);const ie=(0,y.useMemo)((()=>(0,k.jsxs)("div",{className:"header-content",children:[m("Token"),": ",q]})),[q,m]);(0,y.useEffect)((()=>{null==s||s(ie)}),[ie,s]);const le=(0,y.useCallback)((e=>()=>{oe(e)}),[oe]);return(0,k.jsxs)("div",{className:H()("token-detail-container",{"__web-ui":_}),onScroll:ee,ref:Z,children:[!_&&(0,k.jsx)("div",{className:H()("__upper-block-wrapper",{"-is-shrink":J}),ref:I,children:(0,k.jsx)(z,{balanceValue:P,className:"__static-block",isShrink:J,onClickBack:f,onOpenBuyTokens:ae,onOpenReceive:$,onOpenSendFund:se,symbol:q})}),U.length?_?(0,k.jsx)(L.Z,{className:"__table",columns:[{title:"Token name",dataIndex:"name",key:"name",render:(e,t)=>{var n;return(0,k.jsx)(o.J9,{chain:t.chain,logoKey:t.logoKey,slug:t.slug,subTitle:(null===(n=t.chainDisplayName)||void 0===n?void 0:n.replace(" Relay Chain",""))||"",symbol:t.symbol})}},{title:"Transferable",dataIndex:"percentage",key:"percentage",render:(e,t)=>(0,k.jsx)(o.F5,{convertedValue:t.free.convertedValue,symbol:t.symbol,value:t.free.value})},{title:"Locked",dataIndex:"price",key:"price",render:(e,t)=>(0,k.jsx)(o.F5,{convertedValue:t.locked.convertedValue,symbol:t.symbol,value:t.locked.value})},{title:"Balance",dataIndex:"balance",key:"balance",render:(e,t)=>(0,k.jsx)(o.F5,{convertedValue:t.total.convertedValue,symbol:t.symbol,value:t.total.value})}],dataSource:U,onClick:oe}):(0,k.jsx)("div",{className:"__scroll-container",children:U.map((e=>(0,k.jsx)(r.H,{...e,onClick:le(e)},e.slug)))}):(0,k.jsx)(c.Z,{pageType:c.G.TOKEN}),(0,k.jsx)(v,{currentTokenInfo:W,id:A,onCancel:ne,tokenBalanceMap:w}),!_&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(a.C,{items:B,onSelectItem:G}),(0,k.jsx)(l.F,{address:F,items:Y,onSelectItem:V}),(0,k.jsx)(i.Z,{address:F,selectedNetwork:K})]})]})}const G=(0,b.ZP)((function({className:e=""}){const t=(0,y.useContext)(u.R0);return(0,k.jsx)(s.Z,{className:`tokens ${e}`,resolve:t.awaitStores(["price","chainStore","assetRegistry","balance"]),children:(0,k.jsx)($,{})})})).withConfig({displayName:"DetailList__Tokens",componentId:"sc-9cj0x6-0"})((({theme:{extendToken:e,token:t}})=>({overflow:"hidden",".__table":{".ant-table-row":{cursor:"pointer"}},".token-detail-container":{height:"100%",overflow:"auto",color:t.colorTextLight1,fontSize:t.fontSizeLG,position:"relative",display:"flex",flexDirection:"column",paddingTop:210,"&.__web-ui":{padding:0}},".__scroll-container":{flex:1,paddingLeft:t.size,paddingRight:t.size},".__upper-block-wrapper":{position:"absolute",backgroundColor:t.colorBgDefault,zIndex:10,height:206,paddingTop:8,top:0,left:0,right:0,display:"flex",alignItems:"center",backgroundImage:e.tokensScreenInfoBackgroundColor,transition:"opacity, padding-top 0.27s ease","&.-is-shrink":{height:128}},".tokens-upper-block":{flex:1},".__scrolling-block":{display:"none"},".token-balance-detail-item":{marginBottom:t.sizeXS}})))},60241:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(88111),s=(n(2784),n(52322));const a=({className:e,columns:t,dataSource:n,onClick:a})=>(0,s.jsx)(o.Z,{className:e,columns:t,dataSource:n,onRow:e=>({onClick:()=>{a&&a(e)}}),pagination:!1,rowKey:e=>e.slug})},33624:(e,t,n)=>{n.d(t,{G:()=>f,Z:()=>y});var o=n(99656),s=n(96562),a=n(72779),i=n.n(a),l=n(82524),c=n(1780),r=n(86267),u=n(74711),d=n(95414),p=n(56899),h=n(69339),m=(n(2784),n(82575)),g=n(52322);let f=function(e){return e.NFT="nft",e.TOKEN="token",e.SEARCH="search",e.CROWDLOANS="crowdloans",e.HISTORY="history",e.STAKING="staking",e}({});const x={[f.NFT]:{icon:l.Z,title:"No collectible found",content:"Your collectibles will appear here"},[f.TOKEN]:{icon:c.Z,title:"No token found",content:"Your token will appear here"},[f.SEARCH]:{icon:r.Z,title:"No results found",content:"Please change your search criteria and try again",button:{label:"Manage token list",icon:u.Z}},[f.CROWDLOANS]:{icon:d.Z,title:"Youâ€™ve not participated in any crowdloans",content:"Your crowdloans portfolio will appear here"},[f.HISTORY]:{icon:p.Z,title:"No transaction yet",content:"Your transaction history will appear here"},[f.STAKING]:{icon:h.Z,title:"No staking",content:"Your staking accounts will appear here"}},y=(0,m.ZP)((({className:e,pageType:t})=>{const{content:n,icon:a,title:l}=x[t];return(0,g.jsx)("div",{className:i()(e),children:(0,g.jsxs)("div",{className:i()("message-wrapper"),children:[(0,g.jsxs)("div",{className:"message-icon",children:[(0,g.jsx)(o.Z,{iconColor:"#737373",phosphorIcon:a,weight:"fill"}),(0,g.jsx)("div",{className:"shape"})]}),(0,g.jsxs)("div",{className:i()("flex-col","message-content"),children:[(0,g.jsx)(s.Z.Title,{className:"title",children:l}),n&&(0,g.jsx)(s.Z.Text,{className:"content",children:n})]})]})})})).withConfig({displayName:"NoContent",componentId:"sc-oeplvg-0"})((()=>({height:"100%",".message-wrapper":{height:"100%",flex:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"50px 0 40px",".message-icon":{display:"flex",justifyContent:"center",alignItems:"center",fontSize:60,height:"fit-content",width:"fit-content",padding:"28px",position:"relative",".shape":{opacity:.3,background:"#4D4D4D",borderRadius:"50%",position:"absolute",top:0,left:0,bottom:0,right:0}},".message-content":{marginTop:16,justifyContent:"center",alignItems:"center",display:"flex",flexDirection:"column","& > *":{margin:0},".title":{fontSize:16,lineHeight:"24px"},".content":{fontSize:14,lineHeight:"22px",color:"rgba(255, 255, 255, 0.45)"}}},".action-button":{opacity:.45}})))}}]);