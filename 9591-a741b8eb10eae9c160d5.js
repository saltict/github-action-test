"use strict";(("undefined"!=typeof self?self:this).webpackChunk_subwallet_webapp=("undefined"!=typeof self?self:this).webpackChunk_subwallet_webapp||[]).push([[9591],{9591:(e,s,n)=>{n.r(s),n.d(s,{default:()=>v});var o=n(57801),t=n(3612),i=n(43557),a=n(73160),l=n(63910),c=n(12162),r=n(12798),d=n(99656),u=n(95023),p=n(61882),g=n(92280),m=n(67243),h=n(72779),x=n.n(h),b=n(8175),C=n(2784),y=n(76699),f=n(73557),j=n(82575),k=n(52322);const w={uri:""},I="connect-connection-scanner-modal",v=(0,j.ZP)((e=>{const{className:s}=e,{t:n}=(0,y.$)(),h=(0,f.s0)(),j=(0,i.lm)(),{goHome:v}=(0,i.yu)(),{inactiveModal:Z}=(0,C.useContext)(c.t),{isWebUI:H}=(0,C.useContext)(t.sG),[P]=r.Z.useForm(),[N,S]=(0,C.useState)(!1),[z,F]=(0,C.useState)(""),W=(0,C.useCallback)((e=>{S(!0),(0,a.HEP)({uri:e}).then((()=>{S(!1),h("/wallet-connect/list")})).catch((e=>{console.error(e);const s=e.message.includes("Pairing already exists")?n("Connection already exists"):n("Fail to add connection");j({type:"error",message:s}),S(!1)})).finally((()=>{S(!1)}))}),[h,j,n]),$=(0,C.useCallback)((e=>{const{uri:s}=e;W(s)}),[W]),B=(0,C.useCallback)((e=>{const s=e.text,o=(0,l.$g)(s,n);o||N?o&&F(o):(F(""),Z(I),P.setFieldValue("uri",e.text))}),[N,Z,P,n]),E=(0,i.OI)(I),T=(0,C.useCallback)((e=>{e&&e.stopPropagation(),E()}),[E]),U=(0,C.useCallback)((()=>{F("")}),[]),_=(0,C.useCallback)((e=>{console.log(e),F(e)}),[]),A=(0,C.useCallback)((()=>{h("/wallet-connect/list")}),[h]),R=(0,C.useCallback)(((e,s)=>new Promise(((e,o)=>{const t=(0,l.$g)(s,n);t?o(new Error(t)):e()}))),[n]);return(0,k.jsx)(o.Ar.WithSubHeaderOnly,{className:x()(s,"setting-pages"),onBack:A,rightFooterButton:{children:n("Connect"),onClick:P.submit,loading:N,icon:(0,k.jsx)(d.Z,{customIcon:(0,k.jsx)(o.be,{height:"1em",width:"1em"}),type:"customIcon"})},subHeaderIcons:[{icon:(0,k.jsx)(o.Tw,{}),onClick:v}],title:n("WalletConnect"),children:(0,k.jsxs)("div",{className:"body-container",children:[(0,k.jsx)("div",{className:"description",children:n('By clicking "Connect", you allow this dapp to view your public address')}),(0,k.jsx)("div",{className:"page-icon",children:(0,k.jsx)(u.Z,{color:"var(--page-icon-color)",iconProps:{customIcon:(0,k.jsx)(o.be,{height:"1em",width:"1em"}),type:"customIcon"}})}),(0,k.jsx)(r.Z,{form:P,initialValues:w,onFinish:$,children:(0,k.jsx)(r.Z.Item,{name:"uri",rules:[{required:!0,message:n("URI is required")},{validator:R}],statusHelpAsTooltip:!0,children:(0,k.jsx)(p.Z,{disabled:N,label:n("URI"),placeholder:n("Please type or paste or scan URI"),suffix:(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(g.Z,{disabled:N,icon:(0,k.jsx)(d.Z,{phosphorIcon:b.Z,size:"sm"}),onClick:T,size:"xs",type:"ghost"})})})})}),(0,k.jsx)(m.Z,{className:s,id:I,isError:!!z,onClose:U,onError:_,onSuccess:B,overlay:z&&(0,k.jsx)(o.gt,{message:z}),selectCameraMotion:H?"move-right":void 0})]})})})).withConfig({displayName:"ConnectWalletConnect",componentId:"sc-129uyga-0"})((({theme:{token:e}})=>({".body-container":{padding:`0 ${e.padding}px`,".description":{padding:`0 ${e.padding}px`,fontSize:e.fontSizeHeading6,lineHeight:e.lineHeightHeading6,color:e.colorTextDescription,textAlign:"center"},".page-icon":{display:"flex",justifyContent:"center",marginTop:e.controlHeightLG,marginBottom:e.sizeXXL,"--page-icon-color":e.colorPrimary},".ant-input-suffix":{minWidth:e.sizeXS}}})))}}]);