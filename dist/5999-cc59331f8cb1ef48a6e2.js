"use strict";(("undefined"!=typeof self?self:this).webpackChunk_subwallet_webapp=("undefined"!=typeof self?self:this).webpackChunk_subwallet_webapp||[]).push([[5999],{45999:(e,o,t)=>{t.r(o),t.d(o,{default:()=>K});var n=t(57801),a=t(87694),s=t(48118),i=t(89558),r=t(3612),c=t(96900),l=t(86041),d=t(15234),u=t(4517),m=t(88528),g=t(47088),p=t(73160),h=t(31352),b=t(63910),x=t(89600),f=t(96701),y=t(12162),Z=t(12798),w=t(80679),E=t(61882),j=t(58094),k=t(99656),v=t(19201),C=t(92280),N=t(72779),I=t.n(N),A=t(89710),T=t(18332),M=t(80205),z=t(47856),D=t(77571),L=t(12604),S=t(21218),R=t(11283),$=t(1610),W=t(23183),X=t(38025),B=t(2784),F=t(76699),O=t(73557),G=t(82575),P=t(1404),_=t(52322),q=function(e){return e.NAME="name",e}(q||{}),H=function(e){return e.EXPORT="export",e.DERIVE="derive",e.DELETE="delete",e}(H||{});const V=[{title:"Why do I need to enter a password?",description:"For your wallet protection, SubWallet locks your wallet after 15 minutes of inactivity. You will need this password to unlock it.",type:"warning"},{title:"Can I recover a password?",description:"The password is stored securely on your device. We will not be able to recover it for you, so make sure you remember it!",type:"warning"}],K=(0,G.ZP)((e=>{const{className:o}=e,{t}=(0,F.$)(),N=(0,O.s0)(),{goHome:K}=(0,g.Z)(),Q=(0,u.Z)(),{token:U}=(0,G.Fg)(),{accountAddress:Y}=(0,O.UO)(),{activeModal:J}=(0,B.useContext)(y.t),[ee,oe]=(0,B.useState)("exportAccountKey"),[te]=Z.Z.useForm(),ne=(0,l.Z)(Y),ae=(0,c.Z)(),{isWebUI:se}=(0,B.useContext)(r.sG),ie=(0,B.useRef)(),[re,ce]=(0,B.useState)(!1),[le,de]=(0,B.useState)(!1),[ue,me]=(0,B.useState)(!1),ge=(0,m.Z)(),pe=(0,d.Z)(Y),he=(0,B.useMemo)((()=>!(!ne||ne.isExternal||"ethereum"===ne.type&&!ne.isMasterAccount)),[ne]),be=(0,B.useMemo)((()=>{switch(pe){case h.v.LEDGER:return A.Z;case h.v.QR:return T.Z;case h.v.READ_ONLY:return M.Z;case h.v.INJECTED:return z.Z;default:return D.Z}}),[pe]),xe=(0,B.useCallback)((()=>{null!=ne&&ne.address&&ae().then((()=>{ce(!0),(0,p.a1d)(ne.address).then((()=>{K()})).catch((e=>{Q({message:e.message,type:"error"})})).finally((()=>{ce(!1)}))})).catch((e=>{e&&Q({message:e.message,type:"error"})}))}),[null==ne?void 0:ne.address,ae,Q,K]),fe=(0,B.useCallback)((()=>{null!=ne&&ne.address&&ge().then((()=>{de(!0),setTimeout((()=>{(0,p.Zb)({address:ne.address}).then((()=>{K()})).catch((e=>{Q({message:e.message,type:"error"})})).finally((()=>{de(!1)}))}),500)})).catch((()=>{}))}),[null==ne?void 0:ne.address,ge,K,Q]),ye=(0,B.useCallback)((()=>{null!=ne&&ne.address&&(se?J(i.K):N(`/accounts/export/${ne.address}`))}),[null==ne?void 0:ne.address,se,J,N]),Ze=(0,B.useCallback)((()=>{(0,x.vQ)((null==ne?void 0:ne.address)||""),Q({message:t("Copied to clipboard")})}),[null==ne?void 0:ne.address,Q,t]),we=(0,B.useCallback)(((e,o)=>{(0,f.eW)(e)[q.NAME]&&(clearTimeout(ie.current),me(!0),ie.current=setTimeout((()=>{te.submit()}),1e3))}),[te]),Ee=(0,B.useCallback)((e=>{clearTimeout(ie.current);const o=e[q.NAME];ne&&o!==ne.name&&ne.address?(0,p.zx$)(ne.address,o.trim()).catch(console.error).finally((()=>{me(!1)})):me(!1)}),[ne]),je=(0,B.useCallback)((()=>{oe(`exportAccountKey-${Date.now()}`)}),[]);return(0,B.useEffect)((()=>{ne||K()}),[ne,K,N]),ne?(0,_.jsx)(n.FE,{className:I()(o),children:(0,_.jsxs)(n.Ar.WithSubHeaderOnly,{disableBack:le,subHeaderIcons:se?void 0:[{icon:(0,_.jsx)(n.Tw,{}),onClick:K,disabled:le}],title:t("Account details"),children:[(0,_.jsxs)("div",{className:I()("body-container"),children:[(0,_.jsxs)("div",{className:"main-content",children:[!se&&(0,_.jsx)("div",{className:"account-qr",children:(0,_.jsx)(w.Z,{errorLevel:"M",icon:"",iconSize:1.5*U.sizeLG,size:3.5*U.sizeXL,value:ne.address})}),(0,_.jsx)(Z.Z,{form:te,initialValues:{[q.NAME]:ne.name||""},name:"account-detail-form",onFieldsChange:we,onFinish:Ee,children:(0,_.jsx)(Z.Z.Item,{className:I()("account-field"),name:q.NAME,rules:[{message:t("Account name is required"),transform:e=>e.trim(),required:!0}],statusHelpAsTooltip:!0,children:(0,_.jsx)(E.Z,{className:"account-name-input",disabled:le||ne.isInjected,label:t("Account name"),onBlur:te.submit,placeholder:t("Account name"),prefix:(0,_.jsx)(j.Z,{backgroundColor:"var(--wallet-name-icon-bg-color)",iconColor:"var(--wallet-name-icon-color)",phosphorIcon:be}),suffix:(0,_.jsx)(k.Z,{className:I()({loading:ue}),phosphorIcon:ue?L.Z:S.Z,size:"sm"})})})}),(0,_.jsx)("div",{className:I()("account-field","mb-lg"),children:(0,_.jsx)(v.Z,{content:(0,b.pC)(ne.address,11,13),label:t("Wallet address"),placeholder:t("Wallet address"),prefix:(0,_.jsx)(a.Z,{size:U.sizeMD,value:ne.address}),suffix:(0,_.jsx)(C.Z,{icon:(0,_.jsx)(k.Z,{phosphorIcon:R.Z,size:"sm"}),onClick:Ze,size:"xs",type:"ghost"})})}),(0,_.jsx)(C.Z,{block:!0,className:I()("account-button",`action-type-${H.DERIVE}`),contentAlign:"left",disabled:!he||ne.isInjected,icon:(0,_.jsx)(j.Z,{backgroundColor:"var(--icon-bg-color)",phosphorIcon:$.Z,size:"sm",weight:"fill"}),loading:le,onClick:fe,schema:"secondary",children:t("Derive account")}),(0,_.jsx)(C.Z,{block:!0,className:I()("account-button",`action-type-${H.EXPORT}`),contentAlign:"left",disabled:ne.isExternal||le||ne.isInjected,icon:(0,_.jsx)(j.Z,{backgroundColor:"var(--icon-bg-color)",phosphorIcon:W.Z,size:"sm",weight:"fill"}),onClick:ye,schema:"secondary",children:t("Export account")}),(0,_.jsx)(C.Z,{block:!0,className:I()("account-button",`action-type-${H.DELETE}`),contentAlign:"left",disabled:le||ne.isInjected,icon:(0,_.jsx)(j.Z,{backgroundColor:"var(--icon-bg-color)",phosphorIcon:X.Z,size:"sm",weight:"fill"}),loading:re,onClick:xe,schema:"secondary",children:t("Remove account")})]}),se&&(0,_.jsx)(s.Z,{contents:V})]}),se&&(0,_.jsx)(P.default,{accountAddress:null==ne?void 0:ne.address,isModalMode:!0,onCancelModal:je},ee)]})}):null})).withConfig({displayName:"AccountDetail",componentId:"sc-12smu7y-0"})((({theme:{extendToken:e,token:o}})=>({".body-container":{padding:`0 ${o.padding}px`,"--wallet-name-icon-bg-color":o["geekblue-6"],"--wallet-name-icon-color":o.colorWhite,".ant-background-icon":{width:o.sizeMD,height:o.sizeMD,".user-name-icon":{span:{height:o.sizeSM,width:o.sizeSM}}},".account-qr":{marginTop:o.margin,marginBottom:o.marginLG,display:"flex",flexDirection:"row",justifyContent:"center"},".account-field":{marginBottom:o.marginXS,".single-icon-only":{color:o["gray-4"]},".ant-input-label":{marginBottom:o.marginXS-2},".ant-input-suffix":{marginRight:0,marginLeft:o.marginXS},".ant-btn":{height:"auto",marginRight:-(o.marginSM-2)}},".mb-lg":{marginBottom:o.marginLG},".account-button":{marginBottom:o.marginXS,gap:o.sizeXS,color:o.colorTextLight1,"&:disabled":{color:o.colorTextLight1,opacity:.4}},[`.action-type-${H.DERIVE}`]:{"--icon-bg-color":o["magenta-7"]},[`.action-type-${H.EXPORT}`]:{"--icon-bg-color":o["green-6"]},[`.action-type-${H.DELETE}`]:{"--icon-bg-color":o["colorError-6"],color:o["colorError-6"],".ant-background-icon":{color:o.colorTextLight1},"&:disabled":{color:o["colorError-6"],".ant-background-icon":{color:o.colorTextLight1}}}},".account-name-input":{".loading":{color:o["gray-5"],animation:"spinner-loading 1s infinite linear"}},".web-ui-enable &":{".ant-sw-sub-header-container":{marginBottom:24},".body-container":{display:"flex",justifyContent:"center",gap:16,width:e.twoColumnWidth,maxWidth:"100%",margin:"0 auto",".anticon":{height:"unset !important",width:"unset !important"},"& > *":{flex:1},".form-container":{".ant-btn":{width:"100%"}}}}})))},48118:(e,o,t)=>{t.d(o,{Z:()=>l});var n=t(57801),a=t(72779),s=t.n(a),i=(t(2784),t(76699)),r=t(82575),c=t(52322);const l=(0,r.ZP)((({className:e,contents:o})=>{const{t}=(0,i.$)();return o.length<=0?(0,c.jsx)(c.Fragment,{}):(0,c.jsx)("div",{className:s()("instruction-container",e),children:o.map(((e,o)=>(0,c.jsx)(n.e3,{description:"string"==typeof e.description?t(e.description):e.description,title:t(e.title),type:e.type||"warning"},o)))})})).withConfig({displayName:"InstructionContainer",componentId:"sc-1tjn6f7-0"})((({theme:{token:e}})=>({display:"flex",flexDirection:"column",gap:10,".alert-title.alert-title":{color:e.colorTextLight1}})))}}]);