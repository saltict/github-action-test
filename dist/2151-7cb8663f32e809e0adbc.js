"use strict";(("undefined"!=typeof self?self:this).webpackChunk_subwallet_webapp=("undefined"!=typeof self?self:this).webpackChunk_subwallet_webapp||[]).push([[2151],{60241:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(88111),a=(n(2784),n(52322));const i=({className:e,columns:t,dataSource:n,onClick:i})=>(0,a.jsx)(o.Z,{className:e,columns:t,dataSource:n,onRow:e=>({onClick:()=>{i&&i(e)}}),pagination:!1,rowKey:e=>e.slug})},22151:(e,t,n)=>{n.r(t),n.d(t,{default:()=>L});var o=n(57801),a=n(64483),i=n(41803),s=n(71870),l=n(33624),c=n(31343),r=n(75576),p=n(57190),d=n(3612),u=n(4517),h=n(43246),g=n(56547),m=n(43557),x=n(73160),f=n(25690),y=n(92280),k=n(99656),b=n(14993),v=n(80205),_=n(54376),w=n(11283),S=n(62982),j=n(90766),C=n(2784),N=n(82575),Z=n(52322);const T=(0,N.ZP)((function({className:e="",isPriceDecrease:t,isShrink:n,onOpenBuyTokens:o,onOpenReceive:a,onOpenSendFund:i,totalChangePercent:s,totalChangeValue:l,totalValue:c}){const{t:r}=(0,m.$G)(),{isShowBalance:p}=(0,m.v9)((e=>e.settings)),d=(0,C.useCallback)((()=>{(0,x.mZE)(!p).catch(console.error)}),[p]);return(0,Z.jsxs)("div",{className:`tokens-upper-block ${e} ${n?"-shrink":""}`,children:[(0,Z.jsx)("div",{className:"__total-balance-value-container",children:(0,Z.jsx)("div",{className:"__total-balance-value-content",onClick:n?d:void 0,children:(0,Z.jsx)(f.Z,{className:"__total-balance-value",decimal:0,decimalOpacity:.45,hide:!p,prefix:"$",size:38,subFloatNumber:!0,value:c})})}),!n&&(0,Z.jsxs)("div",{className:"__balance-change-container",children:[(0,Z.jsx)(y.Z,{className:"button-change-show-balance",icon:(0,Z.jsx)(k.Z,{phosphorIcon:p?_.Z:v.Z}),onClick:d,size:"xs",tooltip:r(p?"Hide balance":"Show balance"),type:"ghost"}),(0,Z.jsx)(f.Z,{className:"__balance-change-value",decimal:0,decimalOpacity:1,hide:!p,prefix:t?"- $":"+ $",value:l}),(0,Z.jsx)(b.Z,{className:"__balance-change-percent "+(t?"-decrease":""),shape:"round",children:(0,Z.jsx)(f.Z,{decimal:0,decimalOpacity:1,prefix:t?"-":"+",suffix:"%",value:s,weight:700})})]}),(0,Z.jsxs)("div",{className:"__action-button-container",children:[(0,Z.jsx)(y.Z,{icon:(0,Z.jsx)(k.Z,{phosphorIcon:w.Z,size:n?"sm":"md",weight:"duotone"}),onClick:a,shape:"squircle",size:n?"xs":"sm",tooltip:r("Get address")}),(0,Z.jsx)("div",{className:"__button-space"}),(0,Z.jsx)(y.Z,{icon:(0,Z.jsx)(k.Z,{phosphorIcon:S.Z,size:n?"sm":"md",weight:"duotone"}),onClick:i,shape:"squircle",size:n?"xs":"sm",tooltip:r("Send tokens")}),(0,Z.jsx)("div",{className:"__button-space"}),(0,Z.jsx)(y.Z,{icon:(0,Z.jsx)(k.Z,{phosphorIcon:j.Z,size:n?"sm":"md",weight:"duotone"}),onClick:o,shape:"squircle",size:n?"xs":"sm",tooltip:r("Buy token")})]})]})})).withConfig({displayName:"UpperBlock",componentId:"sc-12e0a6v-0"})((({theme:{token:e}})=>({padding:"0px 8px 24px 8px",display:"flex",flexDirection:"column",".__total-balance-value":{textAlign:"center",padding:"0px 8px",lineHeight:e.lineHeightHeading1,fontSize:e.fontSizeHeading1,whiteSpace:"nowrap",overflow:"hidden",".ant-typography":{lineHeight:"inherit"}},".ant-btn":{transition:"width, height, padding 0s"},".__balance-change-container":{display:"flex",justifyContent:"center",alignItems:"center",gap:e.sizeXS,".button-change-show-balance":{color:e.colorWhite,"&:hover":{color:e["gray-5"]}},".ant-typography":{lineHeight:"inherit",color:"inherit !important",fontSize:"inherit !important"}},".__balance-change-value":{lineHeight:e.lineHeight},".__balance-change-percent":{backgroundColor:e["cyan-6"],color:e["green-1"],marginInlineEnd:0,display:"flex","&.-decrease":{backgroundColor:e.colorError,color:e.colorTextLight1},".ant-number":{fontSize:e.fontSizeXS}},".__action-button-container":{display:"flex",justifyContent:"center",padding:"26px 8px 0 8px"},".__button-space":{width:e.size},"&.-shrink":{paddingBottom:32,flexDirection:"row",".__total-balance-value-container":{flex:1},".__total-balance-value-content":{cursor:"pointer",width:"fit-content"},".__total-balance-value":{textAlign:"left",lineHeight:e.lineHeightHeading2,fontSize:e.fontSizeHeading2,".ant-number-prefix, .ant-number-integer, .ant-number-hide-content":{fontSize:"inherit !important"}},".__balance-change-container":{display:"none"},".__action-button-container":{paddingTop:0},".__button-space":{width:e.sizeXS}}})));var I=n(63910),z=n(72558),H=n(72779),B=n.n(H),O=n(74711),R=n(75679),$=n(39359),G=n(35185),A=n(73557),D=n(60241);const E=new z.Z(0),P=new z.Z(100),V=()=>{const{t:e}=(0,h.Z)(),t=(0,G.v9)((e=>e.chainStore.chainInfoMap)),[n,r]=(0,C.useState)(!1),m=(0,A.s0)(),x=(0,C.useRef)(null),b=(0,C.useRef)(null),{accountBalance:{tokenGroupBalanceMap:v,totalBalanceInfo:_},tokenGroupStructure:{sortedTokenGroups:w}}=(0,C.useContext)(p.Q),S=(0,G.v9)((e=>e.accountState.currentAccount)),j=(0,A.bx)(),N=null==j?void 0:j.searchInput;(0,C.useEffect)((()=>{(null==j?void 0:j.setSearchPlaceholder)&&j.setSearchPlaceholder("Token name")}),[j,null==j?void 0:j.setSearchPlaceholder]);const z=(0,u.Z)(),{accountSelectorItems:H,onOpenReceive:V,openSelectAccount:L,openSelectToken:M,selectedAccount:F,selectedNetwork:Y,tokenSelectorItems:K}=(0,g.Z)(),{isWebUI:X}=(0,C.useContext)(d.sG),q=(0,C.useCallback)((e=>{const t=e.currentTarget.scrollTop;r(t>80?e=>{if(!e&&b.current&&x.current){const e=x.current.getBoundingClientRect();b.current.style.position="fixed",b.current.style.top=`${Math.floor(e.top)}px`,b.current.style.left=`${e.left}px`,b.current.style.right=`${e.right}px`,b.current.style.width=`${e.width}px`,b.current.style.opacity="0",b.current.style.paddingTop="0",setTimeout((()=>{b.current&&(b.current.style.opacity="1",b.current.style.paddingTop="32px")}),100)}return!0}:e=>(e&&b.current&&(b.current.style.position="absolute",b.current.style.top="0",b.current.style.left="0",b.current.style.right="0",b.current.style.width="100%",b.current.style.opacity="0",b.current.style.paddingTop="0",setTimeout((()=>{b.current&&(b.current.style.opacity="1",b.current.style.paddingTop="32px")}),100)),!1))}),[]),W=(0,C.useCallback)((()=>{var e;if(((null===(e=x.current)||void 0===e?void 0:e.scrollTop)||0)>80){if(b.current&&x.current){const e=x.current.getBoundingClientRect();b.current.style.top=`${Math.floor(e.top)}px`,b.current.style.left=`${e.left}px`,b.current.style.right=`${e.right}px`,b.current.style.width=`${e.width}px`}}else b.current&&(b.current.style.top="0",b.current.style.left="0",b.current.style.right="0",b.current.style.width="100%")}),[]),U="decrease"===_.change.status,J=(0,C.useCallback)((e=>{m(`/home/tokens/detail/${e.slug}`)}),[m]),Q=(0,C.useCallback)((()=>{m("/settings/tokens/manage")}),[m]),ee=(0,C.useCallback)((()=>{S&&S.isReadOnly?z({message:e("The account you are using is watch-only, you cannot send assets with it"),type:"info",duration:3}):m("/transaction/send-fund")}),[S,m,z,e]),te=(0,C.useCallback)((()=>{m("/buy-tokens")}),[m]),ne=(0,C.useMemo)((()=>{const e=[];return w.forEach((t=>{const n=v[t];n&&(N?((e,t)=>{const n=t.toLowerCase();return e.symbol.toLowerCase().includes(n)})(n,N)&&e.push(n):e.push(n))})),e.sort(I.XG)}),[w,v,N]);(0,C.useEffect)((()=>(window.addEventListener("resize",W),()=>{window.removeEventListener("resize",W)})),[W]);const oe=(0,C.useCallback)((e=>()=>{J(e)}),[J]),ae=(0,C.useCallback)((n=>{const o=n.relatedChains;var a;if(1===o.length){if(t[o[0]])return(null===(a=t[o[0]].name)||void 0===a?void 0:a.replace(" Relay Chain",""))||""}else if(o.length>1)return`${o.length}  ${e("networks")}`;return""}),[t,e]);if(X){const t=_.convertedValue.eq(E);return(0,Z.jsxs)("div",{className:"token-table",children:[ne.length<=0?(0,Z.jsx)(l.Z,{pageType:l.G.TOKEN}):(0,Z.jsx)(D.Z,{columns:[{title:e("Token name"),dataIndex:"name",key:"name",render:(e,t)=>(0,Z.jsx)(o.J9,{chain:t.chain,logoKey:t.logoKey,slug:t.slug,subTitle:ae(t),symbol:t.symbol})},{title:e("Portfolio %"),dataIndex:"percentage",key:"percentage",className:"__percentage-col",render:(e,n)=>(0,Z.jsx)(f.Z,{decimal:0,decimalOpacity:.45,suffix:"%",value:t?E:n.total.convertedValue.multipliedBy(P).dividedBy(_.convertedValue)})},{title:e("Price"),dataIndex:"price",key:"price",render:(e,t)=>(0,Z.jsx)(o.GI,{pastValue:t.price24hValue,value:t.priceValue})},{title:"Balance",dataIndex:"balance",key:"balance",render:(e,t)=>(0,Z.jsx)(o.F5,{convertedValue:t.total.convertedValue,symbol:t.symbol,value:t.total.value})}],dataSource:ne,onClick:J}),(0,Z.jsx)(y.Z,{block:!0,icon:(0,Z.jsx)(k.Z,{phosphorIcon:O.Z,size:"md"}),onClick:Q,type:"ghost",children:e("Manage token list")})]})}return(0,Z.jsxs)("div",{className:"tokens-screen-container",onScroll:q,ref:x,children:[(0,Z.jsx)("div",{className:B()("__upper-block-wrapper",{"-is-shrink":n,"-decrease":U}),ref:b,children:(0,Z.jsx)(T,{isPriceDecrease:U,isShrink:n,onOpenBuyTokens:te,onOpenReceive:V,onOpenSendFund:ee,totalChangePercent:_.change.percent,totalChangeValue:_.change.value,totalValue:_.convertedValue})}),(0,Z.jsxs)("div",{className:"__scroll-container",children:[ne.map((e=>(0,Z.jsx)(c.b,{...e,onPressItem:oe(e)},e.slug))),!ne.length&&(0,Z.jsx)(o.rf,{className:"__empty-list",emptyMessage:e("Add tokens to get started."),emptyTitle:e("No tokens found"),phosphorIcon:R.Z}),(0,Z.jsx)("div",{className:"__scroll-footer",children:(0,Z.jsx)(y.Z,{icon:(0,Z.jsx)(k.Z,{phosphorIcon:$.Z}),onClick:Q,size:"xs",type:"ghost",children:e("Manage tokens")})})]}),!X&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(a.C,{items:H,onSelectItem:L}),(0,Z.jsx)(s.F,{address:F,items:K,onSelectItem:M}),(0,Z.jsx)(i.Z,{address:F,selectedNetwork:Y})]})]})},L=(0,N.ZP)((({className:e=""})=>{const t=(0,C.useContext)(r.R0);return(0,Z.jsx)(o.FE,{className:`tokens ${e}`,resolve:t.awaitStores(["price","chainStore","assetRegistry","balance"]),children:(0,Z.jsx)(V,{})})})).withConfig({displayName:"Tokens",componentId:"sc-xas0kf-0"})((({theme:{extendToken:e,token:t}})=>({overflow:"hidden",".token-table":{".token-group-balance-item":{marginBottom:"0px !important"},".ant-table-row":{cursor:"pointer"}},"td.__percentage-col":{verticalAlign:"top",".ant-number":{lineHeight:t.lineHeightLG,fontSize:t.fontSizeLG},".ant-number .ant-typography":{fontSize:"inherit !important",lineHeight:"inherit",textAlign:"end"}},".__empty-list":{marginTop:t.marginSM,marginBottom:t.marginSM},".tokens-screen-container":{height:"100%",color:t.colorTextLight1,fontSize:t.fontSizeLG,position:"relative",display:"flex",flexDirection:"column",overflowY:"auto",overflowX:"hidden",paddingTop:210},".__scroll-container":{paddingLeft:t.size,paddingRight:t.size},".__upper-block-wrapper":{backgroundColor:t.colorBgDefault,position:"absolute",paddingTop:"32px",height:210,zIndex:10,top:0,left:0,width:"100%",display:"flex",alignItems:"center",backgroundImage:e.tokensScreenSuccessBackgroundColor,transition:"opacity, padding-top 0.27s ease","&.-is-shrink":{height:104},"&.-decrease":{backgroundImage:e.tokensScreenDangerBackgroundColor}},".tokens-upper-block":{flex:1},".__scroll-footer":{display:"flex",justifyContent:"center",marginBottom:t.size},".token-group-balance-item":{marginBottom:t.sizeXS},".__upper-block-wrapper.-is-shrink":{".__static-block":{display:"none"},".__scrolling-block":{display:"flex"}}})))},33624:(e,t,n)=>{n.d(t,{G:()=>x,Z:()=>y});var o=n(99656),a=n(96562),i=n(72779),s=n.n(i),l=n(82524),c=n(1780),r=n(86267),p=n(74711),d=n(95414),u=n(56899),h=n(69339),g=(n(2784),n(82575)),m=n(52322);let x=function(e){return e.NFT="nft",e.TOKEN="token",e.SEARCH="search",e.CROWDLOANS="crowdloans",e.HISTORY="history",e.STAKING="staking",e}({});const f={[x.NFT]:{icon:l.Z,title:"No collectible found",content:"Your collectibles will appear here"},[x.TOKEN]:{icon:c.Z,title:"No token found",content:"Your token will appear here"},[x.SEARCH]:{icon:r.Z,title:"No results found",content:"Please change your search criteria and try again",button:{label:"Manage token list",icon:p.Z}},[x.CROWDLOANS]:{icon:d.Z,title:"You’ve not participated in any crowdloans",content:"Your crowdloans portfolio will appear here"},[x.HISTORY]:{icon:u.Z,title:"No transaction yet",content:"Your transaction history will appear here"},[x.STAKING]:{icon:h.Z,title:"No staking",content:"Your staking accounts will appear here"}},y=(0,g.ZP)((({className:e,pageType:t})=>{const{content:n,icon:i,title:l}=f[t];return(0,m.jsx)("div",{className:s()(e),children:(0,m.jsxs)("div",{className:s()("message-wrapper"),children:[(0,m.jsxs)("div",{className:"message-icon",children:[(0,m.jsx)(o.Z,{iconColor:"#737373",phosphorIcon:i,weight:"fill"}),(0,m.jsx)("div",{className:"shape"})]}),(0,m.jsxs)("div",{className:s()("flex-col","message-content"),children:[(0,m.jsx)(a.Z.Title,{className:"title",children:l}),n&&(0,m.jsx)(a.Z.Text,{className:"content",children:n})]})]})})})).withConfig({displayName:"NoContent",componentId:"sc-oeplvg-0"})((()=>({height:"100%",".message-wrapper":{height:"100%",flex:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"50px 0 40px",".message-icon":{display:"flex",justifyContent:"center",alignItems:"center",fontSize:60,height:"fit-content",width:"fit-content",padding:"28px",position:"relative",".shape":{opacity:.3,background:"#4D4D4D",borderRadius:"50%",position:"absolute",top:0,left:0,bottom:0,right:0}},".message-content":{marginTop:16,justifyContent:"center",alignItems:"center",display:"flex",flexDirection:"column","& > *":{margin:0},".title":{fontSize:16,lineHeight:"24px"},".content":{fontSize:14,lineHeight:"22px",color:"rgba(255, 255, 255, 0.45)"}}},".action-button":{opacity:.45}})))}}]);