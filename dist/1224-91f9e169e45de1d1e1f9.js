"use strict";(("undefined"!=typeof self?self:this).webpackChunk_subwallet_webapp=("undefined"!=typeof self?self:this).webpackChunk_subwallet_webapp||[]).push([[1224],{11224:(e,a,t)=>{t.r(a),t.d(a,{Staking:()=>he,default:()=>pe});var n=t(9661),i=t(57801),o=t(14599),s=t(33624),l=t(7419),c=t(89558),r=t(75576),d=t(3612),u=t(43557),m=t(82887),h=t(73160),p=t(63910),g=t(99656),k=t(12162),x=t(96108),v=t(14993),b=t(92280),f=t(88111),N=t(17446),C=t(94108),y=t(50094),S=t(16418),A=t(69339),I=t(85678),j=t(77571),w=t(89537),Z=t(39359),T=t(2784),_=t(73557),E=t(82575),O=t(15875),M=t(32204),L=t(1072),D=t(58094),R=t(72779),W=t.n(R),B=t(96777),$=t(4595),F=t(47856),P=t(61910),K=t(94344),z=t(76699),G=t(52322);const V="more-action-modal",H=(0,E.ZP)((e=>{const{chainStakingMetadata:a,className:t,nominatorMetadata:i,reward:o,showContentOnly:s}=e,l=(0,_.s0)(),{token:r}=(0,E.Fg)(),{t:d}=(0,z.$)(),{inactiveModal:m}=(0,T.useContext)(k.t),{currentAccount:p,isAllAccount:g}=(0,u.v9)((e=>e.accountState)),[v,b]=(0,T.useState)(),f=(0,T.useCallback)((()=>{m(V)}),[m]),N=(0,T.useCallback)((e=>{a&&l(`/transaction-done/substrate/${a.chain}/${e}`)}),[a,l]),{onError:C,onSuccess:y}=(0,u.Ls)(N),S=(0,T.useCallback)((()=>{if(!i)return void b(void 0);if(g)return b(void 0),void l(`/transaction/withdraw/${i.type}/${i.chain}`);const e=(0,O.Kn)(i);if(!e)return void b(void 0);const a={unstakingInfo:e,chain:i.chain,nominatorMetadata:i};(0,O.k2)(i.type,i.chain)&&(a.validatorAddress=e.validatorAddress),(0,h.E_Z)(a).then(y).catch(C).finally((()=>{b(void 0)}))}),[g,l,i,C,y]),A=(0,T.useCallback)((()=>{if(i)return i.type===n.WQ.POOLED||g?(b(void 0),void l(`/transaction/claim-reward/${i.type}/${i.chain}`)):void(0,h.QQq)({address:i.address,chain:i.chain,stakingType:i.type,unclaimedReward:null==o?void 0:o.unclaimedReward}).then(y).catch(C).finally((()=>{b(void 0)}));b(void 0)}),[g,l,i,C,y,null==o?void 0:o.unclaimedReward]),I=(0,T.useMemo)((()=>i?(0,O.D1)(i,null==o?void 0:o.unclaimedReward):[]),[i,null==o?void 0:o.unclaimedReward]),j=(0,T.useCallback)((e=>()=>{b(void 0),l(e)}),[l]),w=(0,T.useMemo)((()=>a?(0,O.VN)(a.chain,a.type).map((e=>e===O.Ff.UNSTAKE?{action:O.Ff.UNSTAKE,backgroundIconColor:"magenta-6",icon:B.Z,label:d("Unstake"),onClick:j(`/transaction/unstake/${a.type||c.EN}/${a.chain||c.EN}`)}:e===O.Ff.WITHDRAW?{action:O.Ff.WITHDRAW,backgroundIconColor:"geekblue-6",icon:$.Z,label:d("Withdraw unstaked funds"),onClick:S}:e===O.Ff.CLAIM_REWARD?{action:O.Ff.CLAIM_REWARD,backgroundIconColor:"green-7",icon:F.Z,label:d("Claim rewards"),onClick:A}:e===O.Ff.CANCEL_UNSTAKE?{action:O.Ff.CANCEL_UNSTAKE,backgroundIconColor:"purple-8",icon:P.Z,label:d("Cancel unstaking"),onClick:j(`/transaction/cancel-unstake/${a.type||c.EN}/${a.chain||c.EN}`)}:{action:O.Ff.STAKE,backgroundIconColor:"green-6",icon:K.Z,label:d("Stake more"),onClick:j(`/transaction/stake/${a.type||c.EN}/${a.chain||c.EN}`)})):[]),[a,A,S,j,d]),Z=(0,u.ve)(null==p?void 0:p.address,!1),R=(0,T.useCallback)((e=>{const a=(null==i?void 0:i.type)===n.WQ.POOLED;switch(e){case O.Ff.STAKE:return a?n.Vv.STAKING_BOND:n.Vv.STAKING_JOIN_POOL;case O.Ff.UNSTAKE:return a?n.Vv.STAKING_UNBOND:n.Vv.STAKING_LEAVE_POOL;case O.Ff.WITHDRAW:return a?n.Vv.STAKING_WITHDRAW:n.Vv.STAKING_POOL_WITHDRAW;case O.Ff.CLAIM_REWARD:return n.Vv.STAKING_CLAIM_REWARD;case O.Ff.CANCEL_UNSTAKE:return n.Vv.STAKING_CANCEL_UNSTAKE;default:return n.Vv.UNKNOWN}}),[null==i?void 0:i.type]),H=(0,T.useCallback)(((e,a)=>{const t=()=>{b(e),a()};return()=>{Z(t,R(e))()}}),[R,Z]),U=(0,G.jsx)("div",{className:W()(t,"action-more-container"),children:w.map((e=>{const a=!I.includes(e.action),t=!!v,n=e.action===v,i=a||t&&!n;return(0,G.jsx)(L.Z,{className:W()("action-more-item",{disabled:i}),leftItemIcon:(0,G.jsx)(D.Z,{backgroundColor:r[e.backgroundIconColor],phosphorIcon:e.icon,size:"sm",weight:"fill"}),name:e.label,onPressItem:i?void 0:H(e.action,e.onClick),rightItem:n&&(0,G.jsx)("div",{className:"loading-icon",children:(0,G.jsx)(x.Z,{})})},e.label)}))});return s?U:(0,G.jsx)(M.I,{closable:!0,id:V,maskClosable:!0,onCancel:v?void 0:f,title:d("Actions"),children:U})})).withConfig({displayName:"MoreActionModal",componentId:"sc-17oe78l-0"})((({theme:{token:e}})=>({"&.action-more-container":{display:"flex",flexDirection:"column",gap:e.sizeXS},".ant-web3-block-right-item":{marginRight:0},".disabled":{cursor:"not-allowed",opacity:e.opacityDisable,".ant-web3-block":{cursor:"not-allowed"},".ant-web3-block:hover":{cursor:"not-allowed",background:e.colorBgSecondary}}})));var U=t(38014),Q=t(54533),X=t(36926),Y=t(43905),J=t(60835),q=t(20029),ee=t(58446),ae=t(71871),te=t(35185),ne=t(11164),ie=t(25690),oe=t(72558),se=t(27136);const le="staking-detail-modal-id",ce=(0,E.ZP)((({chainStakingMetadata:e,className:a,nominatorMetadata:t,rewardItem:i,staking:o})=>{const{expectedReturn:s,minJoinNominationPool:l,minStake:c,unstakingPeriod:r}=e,{activeStake:d,address:m,chain:h,nominations:x,type:v,unstakings:f}=t,N=(0,O.tA)(h),C=Q.H_.relay.includes(h),y=v===n.WQ.NOMINATED.valueOf()?(0,Y.T)("Nomination details"):(0,Y.T)("Pooled details"),{token:S}=(0,E.Fg)(),A=(0,_.s0)(),{t:I}=(0,z.$)(),[j,Z]=(0,T.useState)(!1),{activeModal:L,inactiveModal:D}=(0,T.useContext)(k.t),{currentAccount:R}=(0,u.v9)((e=>e.accountState)),B=(0,u.ve)(null==R?void 0:R.address,!1),$=(0,ae.Z)(o.chain),{decimals:F}=(0,X.Nm)($),P=(0,X.GS)($),K=(0,u.AT)(o.address),H=function(e,a){const t=(0,te.v9)((e=>e.staking.stakingMap)),n=(0,te.v9)((e=>e.accountState.accounts));return(0,T.useMemo)((()=>{const i=[];return t.forEach((t=>{t.chain===e&&t.type===a&&i.push({address:t.address})})),i.forEach((e=>{const a=(0,p.Jd)(n,e.address);a&&(e.name=a.name,e.type=a.type)})),i}),[n,e,t,a])}(h,v),ce={nominated:I("Nominated"),pooled:I("Pooled")},re=(0,T.useCallback)((()=>{D(le),setTimeout((()=>{A(`/transaction/stake/${t.type}/${t.chain}`)}),300)}),[D,A,t]),de=(0,T.useCallback)((()=>{D(le),setTimeout((()=>A(`/transaction/unstake/${t.type}/${t.chain}`)),300)}),[D,A,t]),ue=(0,T.useCallback)((()=>{L(V),D(le)}),[L,D]),me=(0,T.useCallback)((()=>{Z(!0)}),[]),he=(0,T.useCallback)((()=>{Z(!1),D(le)}),[D]),pe=(0,T.useCallback)((e=>e===n.dE.EARNING_REWARD?ee.C.active:e===n.dE.PARTIALLY_EARNING?ee.C.partialEarning:e===n.dE.WAITING?ee.C.waiting:ee.C.inactive),[]),ge=(0,T.useCallback)((e=>{const a=((e,a)=>e.find((e=>e.validatorAddress===a)))(f,e.validatorAddress);return(0,G.jsxs)(J.Z,{hasBackgroundWrapper:!0,spaceSize:"sm",valueColorScheme:"light",children:[(0,G.jsx)(J.Z.Account,{address:e.validatorAddress,label:I((0,O.ZW)(e.chain)),name:e.validatorIdentity||(0,p.pC)(e.validatorAddress),networkPrefix:P}),(0,G.jsx)(J.Z.Number,{decimals:F,label:I("Active staked"),suffix:o.nativeToken,value:e.activeStake||"",valueColorSchema:"gray"},e.validatorAddress),(0,G.jsx)(J.Z.Number,{decimals:F,label:I("Minimum staked"),suffix:o.nativeToken,value:e.validatorMinStake||"0",valueColorSchema:"gray"},e.validatorAddress),!!a&&"showByValidator"===N&&(0,G.jsx)(J.Z.Default,{className:"__para",label:I("Unstaked"),labelAlign:a.status===n.lz.UNLOCKING.valueOf()?"top":"center",children:(0,G.jsxs)("div",{children:[(0,G.jsx)(ie.Z,{className:"common-text text-light-4 text-right",decimal:F,suffix:o.nativeToken,value:a.claimable}),a.status===n.lz.UNLOCKING.valueOf()&&(0,G.jsx)("div",{className:"sm-text text-light-4",children:(0,ne.H9)(a.waitingTime,a.status,I)})]})}),(0,G.jsx)(J.Z.Status,{label:I("Staking status"),statusIcon:pe(e.status).icon,statusName:I(pe(e.status).name),valueColorSchema:pe(e.status).schema})]},e.validatorAddress)}),[F,pe,P,N,o.nativeToken,I,f]);return(0,G.jsxs)(M.I,{className:a,closable:!0,footer:(0,G.jsxs)("div",{className:"staking-detail-modal-footer",children:[(0,G.jsx)(b.Z,{icon:(0,G.jsx)(g.Z,{phosphorIcon:w.Z}),onClick:ue,schema:"secondary"}),(0,G.jsx)(b.Z,{className:"__action-btn",disabled:new oe.Z(d||"0").lte(0),onClick:B(de,o.type===n.WQ.POOLED?n.Vv.STAKING_LEAVE_POOL:n.Vv.STAKING_UNBOND),schema:"secondary",children:I("Unstake")}),(0,G.jsx)(b.Z,{className:"__action-btn",onClick:B(re,o.type===n.WQ.POOLED?n.Vv.STAKING_BOND:n.Vv.STAKING_JOIN_POOL),children:I("Stake more")})]}),id:le,maskClosable:!0,onCancel:he,title:I(y),children:[(0,G.jsxs)(J.Z,{children:[(0,G.jsx)(J.Z.Account,{accounts:(0,p.W_)(m)?H:void 0,address:m,label:I("Account"),name:null==K?void 0:K.name}),(0,G.jsx)(J.Z.DisplayType,{label:I("Staking type"),typeName:ce[o.type]}),(0,G.jsx)(J.Z.Status,{label:I("Staking status"),statusIcon:pe(t.status).icon,statusName:I(pe(t.status).name),valueColorSchema:pe(t.status).schema}),!(null==i||!i.totalReward)&&parseFloat(null==i?void 0:i.totalReward)>0&&(0,G.jsx)(J.Z.Number,{decimals:F,label:I("Total reward"),suffix:o.nativeToken,value:(null==i?void 0:i.totalReward)||"0"}),!(null==i||!i.unclaimedReward)&&(0,G.jsx)(J.Z.Number,{decimals:F,label:I("Unclaimed rewards"),suffix:o.nativeToken,value:(null==i?void 0:i.unclaimedReward)||"0"}),(0,G.jsx)(J.Z.Number,{decimals:F,label:I("Total staked"),suffix:o.nativeToken,value:String(parseFloat(d)+parseFloat(o.unlockingBalance||"0"))}),(0,G.jsx)(J.Z.Number,{decimals:F,label:I("Active staked"),suffix:o.nativeToken,value:d}),(0,G.jsx)(J.Z.Number,{decimals:F,label:I("Unstaked"),suffix:o.nativeToken,value:o.unlockingBalance||"0"}),(0,G.jsx)(J.Z.Chain,{chain:o.chain,label:I("Network")})]}),!j&&(0,G.jsx)(b.Z,{block:!0,className:"see-more-btn",icon:(0,G.jsx)(g.Z,{iconColor:S.colorTextLight4,phosphorIcon:se.Z,size:"sm"}),onClick:me,size:"xs",type:"ghost",children:I("See more")}),j&&(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)(J.Z,{hasBackgroundWrapper:!0,spaceSize:"xs",valueColorScheme:"light",children:[!!s&&(0,G.jsx)(J.Z.Number,{className:"expected-return",label:I("Estimated annual earnings"),suffix:"%",value:s,valueColorSchema:"even-odd"}),(0,G.jsx)(J.Z.Number,{decimals:F,label:I("Minimum active"),suffix:o.nativeToken,value:t.type===n.WQ.NOMINATED?c:l||"0",valueColorSchema:"gray"}),!!r&&(0,G.jsx)(J.Z.Default,{label:I("Unstaking period"),valueColorSchema:"gray",children:(0,ne.b_)(I,r)})]}),"showByValue"===N&&x&&x.length>0&&(null==R?void 0:R.address)!==U.Tt&&(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(J.Z,{valueColorScheme:"light",children:(0,G.jsx)(J.Z.Number,{decimals:F,label:I("Active staked"),suffix:o.nativeToken,value:d})}),(0,G.jsx)(J.Z,{hasBackgroundWrapper:!0,spaceSize:"xs",valueColorScheme:"light",children:(0,G.jsx)(G.Fragment,{children:x.map((e=>C&&v===n.WQ.NOMINATED?(0,G.jsx)(J.Z.Default,{className:W()("__nomination-field","stand-alone"),label:(0,G.jsx)(q.Z,{address:e.validatorAddress,className:"__nomination-label",name:e.validatorIdentity})},`${e.validatorAddress}-${e.activeStake}-${e.validatorIdentity||e.validatorMinStake||e.chain}`):(0,G.jsx)(J.Z.Number,{className:"__nomination-field",decimals:F,label:(0,G.jsx)(q.Z,{address:e.validatorAddress,className:"__nomination-label",name:e.validatorIdentity}),suffix:o.nativeToken,value:e.activeStake||"",valueColorSchema:"gray"},`${e.validatorAddress}-${e.activeStake}-${e.validatorIdentity||e.validatorMinStake||e.chain}`)))})})]}),("showByValue"===N||"mixed"===N)&&f&&f.length>0&&(null==R?void 0:R.address)!==U.Tt&&(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(J.Z,{valueColorScheme:"light",children:(0,G.jsx)(J.Z.Number,{decimals:F,label:I("Unstaked"),suffix:o.nativeToken,value:o.unlockingBalance||"0"})}),(0,G.jsx)(J.Z,{hasBackgroundWrapper:!0,spaceSize:"xs",valueColorScheme:"light",children:(0,G.jsx)(G.Fragment,{children:f.map((e=>(0,G.jsx)(J.Z.Number,{decimals:F,label:(0,ne.H9)(e.waitingTime,e.status,I)?I((0,ne.H9)(e.waitingTime,e.status,I)):I("Withdraw"),suffix:o.nativeToken,value:e.claimable||"",valueColorSchema:"gray"},`${e.validatorAddress||e.chain}-${e.status}-${e.claimable}`)))})})]}),("showByValidator"===N||"mixed"===N)&&x&&x.length>0&&(null==R?void 0:R.address)!==U.Tt&&(0,G.jsx)(G.Fragment,{children:x&&x.length&&x.map((e=>ge(e)))})]})]})})).withConfig({displayName:"StakingDetailModal",componentId:"sc-1al54tx-0"})((({theme:{token:e}})=>({".expected-return div:first-child":{flex:2},".staking-detail-modal-footer":{display:"flex",alignItems:"center"},".__action-btn":{flex:1},".__slash":{marginLeft:e.marginXXS,marginRight:e.marginXXS},".__inflation-text":{marginLeft:e.marginXXS,color:e.colorTextLight4},".__expected-return, .__inflation":{display:"inline-flex"},".__inflation":{color:e.colorTextLight4},".__nomination-field":{"> .__col":{overflow:"hidden"},"&.stand-alone":{".__col.-to-right":{flexGrow:0}}},".__nomination-label > .__col.-to-right":{flex:"initial",overflow:"hidden",alignItems:"flex-start",".__account-item":{width:"100%"},".__account-name":{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}},".see-more-btn":{marginTop:e.margin},".ant-sw-modal-body":{paddingBottom:0},".ant-sw-modal-footer":{border:"none"}}))),re="staking-filter-modal";var de=function(e){return e.ALL="ALL",e.NOMINATED="nominated",e.POOLED="pooled",e}(de||{});const ue=(0,G.jsx)(g.Z,{phosphorIcon:y.Z,size:"sm",type:"phosphor"}),me=(0,G.jsx)(g.Z,{phosphorIcon:S.Z,size:"sm",type:"phosphor"}),he=(0,E.ZP)((function({className:e=""}){const a=(0,_.s0)(),{t}=(0,u.$G)(),[E,O]=(0,T.useState)(""),M=(0,T.useContext)(r.R0),{isWebUI:L}=(0,T.useContext)(d.sG),{activeModal:D,inactiveModal:R}=(0,T.useContext)(k.t),{data:W,priceMap:B}=(0,u.iu)(),$=(0,u.v9)((e=>e.price.price24hMap)),{currentAccount:F}=(0,u.v9)((e=>e.accountState)),{filterSelectionMap:P,onApplyFilter:K,onChangeFilterOption:z,onCloseFilterModal:U,selectedFilters:Q}=(0,u.RK)(re),[X]=(0,T.useState)(null==F?void 0:F.address),[Y,J]=(0,T.useState)(void 0),[q,ee]=T.useState(!1),ae=(0,u.lm)(),[te,ne]=(0,T.useState)(de.ALL),ie=(0,T.useMemo)((()=>W.map((e=>({...e,key:e.staking.chain+e.staking.address+e.staking.type,price:B[e.staking.chain]||0,price24h:$[e.staking.chain]||0}))).sort(p.iF)),[$,B,W]),oe=(0,T.useMemo)((()=>[{label:t("Nominated"),value:n.WQ.NOMINATED},{label:t("Pooled"),value:n.WQ.POOLED}]),[t]),se=(0,T.useMemo)((()=>e=>{if(!Q.length)return!0;for(const a of Q)if(a===de.NOMINATED){if(e.staking.type===n.WQ.NOMINATED)return!0}else if(a===n.WQ.POOLED&&e.staking.type===n.WQ.POOLED)return!0;return!1}),[Q]),he=(0,T.useCallback)((()=>{D(re)}),[D]),pe=(0,T.useCallback)((e=>{J(e),D(V)}),[D]),ge=(0,T.useCallback)((e=>{J(e),setTimeout((()=>{D(le)}),100)}),[D]),ke=(0,u.ve)(null==F?void 0:F.address,!1),xe=(0,T.useCallback)((()=>{a(`/transaction/stake/${c.EN}/${c.EN}`)}),[a]),ve=(0,T.useCallback)((()=>{ee(!0),ae({icon:(0,G.jsx)(x.Z,{size:32}),style:{top:210},direction:"vertical",duration:1.8,closable:!1,message:t("Reloading")}),(0,h.TUF)({data:"staking"}).then((()=>{ee(!1)})).catch(console.error)}),[ae,t]),be=(0,T.useMemo)((()=>[{icon:me,disabled:q,size:"sm",onClick:ve,tooltip:t("Reload")},{icon:ue,onClick:ke(xe,n.Vv.STAKING_BOND),tooltip:t("Add to bond")}]),[q,ve,t,ke,xe]),fe=(0,T.useCallback)((e=>(0,G.jsx)(i.Jf,{className:"staking-item",decimals:e.decimals,onClickItem:ge,onClickRightIcon:pe,priceMap:B,stakingData:e},`${e.staking.chain}-${e.staking.type}-${e.staking.address}`)),[ge,pe,B]),Ne=(0,T.useCallback)(((e,a)=>{const t=a.toLowerCase();return e.staking.nativeToken.toLowerCase().includes(t)}),[]),Ce=(0,T.useMemo)((()=>ie.filter((e=>(e=>te===de.ALL||(te===de.NOMINATED?e.staking.type===n.WQ.NOMINATED:te===de.POOLED&&e.staking.type===n.WQ.POOLED))(e)&&se(e)&&Ne(e,E)))),[ie,te,se,Ne,E]),ye=(0,T.useCallback)((()=>(0,G.jsx)(i.rf,{emptyMessage:t("Your staking accounts will appear here!"),emptyTitle:t("No staking"),phosphorIcon:A.Z})),[t]);(0,T.useEffect)((()=>{(null==F?void 0:F.address)!==X&&(R(V),R(le),J(void 0))}),[X,null==F?void 0:F.address,R,a]);const Se=(0,T.useCallback)((e=>a=>{(0,p.Zq)(a),pe(e)}),[pe]),Ae=(0,T.useMemo)((()=>[{title:"Token name",dataIndex:"name",key:"name",render:(e,a)=>{const{staking:{chain:t,name:n,nativeToken:o}}=a;return(0,G.jsx)(i.J9,{chain:t,logoKey:o,networkKey:t,subTitle:n||"",symbol:o})}},{title:()=>(0,G.jsx)("span",{style:{padding:"0 40px"},children:"Type"}),className:"__tag-col",dataIndex:"type",key:"type",render:(e,a)=>{const{staking:{type:t}}=a,i=t===n.WQ.POOLED?"success":"warning",o=t===n.WQ.POOLED?I.Z:j.Z;return(0,G.jsx)(v.Z,{className:"staking-tag",color:i,icon:(0,G.jsx)(g.Z,{phosphorIcon:o}),children:(0,C.Z)(t)})}},{title:"Price",dataIndex:"price",key:"price",render:(e,a)=>(0,G.jsx)(i.GI,{pastValue:a.price24h,value:a.price})},{title:"Bonded funds",dataIndex:"bonded",key:"bonded",render:(e,a)=>{const{staking:t}=a,n=(0,m._M)(t.balance||"0",a.decimals),o=(0,m.Pv)(n,Number(`${B[t.chain]||0}`));return(0,G.jsxs)("div",{className:"funds-wrapper",children:[(0,G.jsx)(i.F5,{convertedValue:o,symbol:t.unit,value:n}),(0,G.jsx)(b.Z,{className:"extra-button",icon:(0,G.jsx)(g.Z,{className:"right-icon",customSize:"20px",phosphorIcon:w.Z,type:"phosphor"}),onClick:Se(a),size:"xs",type:"ghost"})]})}}]),[Se,B]),Ie=(0,T.useCallback)((e=>O(e)),[]),je=(0,T.useCallback)((e=>({onClick:()=>ge(e)})),[ge]),we=(0,T.useCallback)((()=>{ke((()=>a(`/transaction/stake/${c.EN}/${c.EN}`)),n.Vv.STAKING_BOND)()}),[a,ke]),Ze=(0,T.useMemo)((()=>[{label:t("All"),value:de.ALL},{label:t("Pooled"),value:de.POOLED},{label:t("Nominated"),value:de.NOMINATED}]),[t]),Te=(0,T.useCallback)((e=>{ne(e)}),[]),_e=(0,T.useMemo)((()=>L?(0,G.jsxs)("div",{className:"web-list",children:[(0,G.jsxs)("div",{className:"web-list-tool-area",children:[(0,G.jsx)(o.$,{className:"filter-tabs-container",items:Ze,onSelect:Te,selectedItem:te}),(0,G.jsx)(l.Z,{actionBtnIcon:(0,G.jsx)(g.Z,{phosphorIcon:Z.Z,size:"sm"}),extraButton:(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(b.Z,{icon:(0,G.jsx)(g.Z,{phosphorIcon:S.Z,size:"sm"}),onClick:ve,tooltip:t("Reload"),type:"ghost"}),(0,G.jsx)(b.Z,{icon:(0,G.jsx)(g.Z,{phosphorIcon:y.Z,size:"sm"}),onClick:we,tooltip:t("Add to bond"),type:"ghost"})]}),onClickActionBtn:he,onSearch:Ie,placeholder:"Token name",searchValue:E,showActionBtn:!0,showExtraButton:!0})]}),Ce.length>0?(0,G.jsx)(f.Z,{columns:Ae,dataSource:Ce,onRow:je,pagination:!1,rowKey:"key"}):(0,G.jsx)(s.Z,{pageType:s.G.STAKING})]}):(0,G.jsx)(N.Z.Section,{actionBtnIcon:(0,G.jsx)(g.Z,{phosphorIcon:Z.Z,size:"sm"}),enableSearchInput:!0,filterBy:se,list:ie,onClickActionBtn:he,renderItem:fe,renderWhenEmpty:ye,searchFunction:Ne,searchMinCharactersCount:2,searchPlaceholder:t("Search token"),showActionBtn:!0})),[Ae,ye,se,Ze,Ce,L,ie,he,ve,we,je,Ie,Te,fe,Ne,E,te,t]);return(0,G.jsx)(i.FE,{className:`staking ${e}`,resolve:M.awaitStores(["staking","price"]),children:(0,G.jsxs)(i.Ar.Base,{showSubHeader:!0,subHeaderBackground:"transparent",subHeaderCenter:!1,subHeaderIcons:be,subHeaderPaddingVertical:!0,title:t("Staking"),children:[_e,(0,G.jsx)(i.Dd,{id:re,onApplyFilter:K,onCancel:U,onChangeOption:z,optionSelectionMap:P,options:oe}),!!(Y&&Y.nominatorMetadata&&Y.chainStakingMetadata)&&(0,G.jsx)(ce,{chainStakingMetadata:Y.chainStakingMetadata,nominatorMetadata:Y.nominatorMetadata,rewardItem:Y.reward,staking:Y.staking}),!!(Y&&Y.nominatorMetadata&&Y.chainStakingMetadata)&&(0,G.jsx)(H,{chainStakingMetadata:Y.chainStakingMetadata,nominatorMetadata:Y.nominatorMetadata,reward:Y.reward,staking:Y.staking})]})})})).withConfig({displayName:"Staking",componentId:"sc-18loehm-0"})((({theme:{token:e}})=>({"&.staking":{color:e.colorTextLight1,fontSize:e.fontSizeLG,".ant-table-row":{cursor:"pointer"},"td.__tag-col":{verticalAlign:"top"},".web-list":{width:"100%",flex:1,display:"flex",flexDirection:"column",".ant-sw-list":{flex:1},".web-list-tool-area":{display:"flex",gap:e.size,alignItems:"center",marginBottom:24}},".funds-wrapper":{display:"flex",justifyContent:"end",marginRight:-e.margin,".extra-button":{marginLeft:e.margin,".anticon":{width:"fit-content"}}},".ant-sw-screen-layout-body":{display:"flex"},".ant-sw-list-section":{flex:1},".staking__filter_option":{width:"100%"},".staking__filter_option_wrapper":{display:"flex",flexDirection:"column",gap:e.marginLG},".staking-item":{marginBottom:e.marginXS}},"&.popover":{padding:e.padding,borderRadius:e.borderRadiusLG,border:"1px solid",backgroundColor:e.colorBgSecondary,borderColor:e.colorBorderBg,boxShadow:"4px 4px 4px 0px rgba(0, 0, 0, 0.25)",marginRight:10,".action-more-container":{gap:0}}}))),pe=he},14599:(e,a,t)=>{t.d(a,{$:()=>c});var n=t(72779),i=t.n(n),o=t(2784),s=t(82575),l=t(52322);const c=(0,s.ZP)((function({className:e="",items:a,onSelect:t,selectedItem:n}){const s=(0,o.useCallback)((e=>()=>{t(e)}),[t]);return(0,l.jsx)("div",{className:e,children:a.map((e=>(0,l.jsx)("div",{className:i()("__tab-item",{"-active":e.value===n}),onClick:s(e.value),tabIndex:-1,children:(0,l.jsx)("div",{className:"__tab-item-label",children:e.label})},e.value)))})})).withConfig({displayName:"FilterTabs",componentId:"sc-1yh6lb7-0"})((({theme:{token:e}})=>({display:"flex",gap:e.size,".__tab-item":{cursor:"pointer",color:e.colorTextLight4,transition:`color ${e.motionDurationMid}`},".__tab-item-label":{fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG,paddingTop:e.sizeXS+2,paddingBottom:e.sizeXS,fontWeight:e.headingFontWeight},".__tab-item:after":{content:"''",display:"block",borderTopWidth:2,borderTopStyle:"solid",transition:`opacity ${e.motionDurationMid}`,opacity:0},".__tab-item.-active":{color:e.colorTextLight2,"&:after":{opacity:1}}})))},33624:(e,a,t)=>{t.d(a,{G:()=>k,Z:()=>v});var n=t(99656),i=t(96562),o=t(72779),s=t.n(o),l=t(82524),c=t(1780),r=t(86267),d=t(74711),u=t(95414),m=t(56899),h=t(69339),p=(t(2784),t(82575)),g=t(52322);let k=function(e){return e.NFT="nft",e.TOKEN="token",e.SEARCH="search",e.CROWDLOANS="crowdloans",e.HISTORY="history",e.STAKING="staking",e}({});const x={[k.NFT]:{icon:l.Z,title:"No collectible found",content:"Your collectibles will appear here"},[k.TOKEN]:{icon:c.Z,title:"No token found",content:"Your token will appear here"},[k.SEARCH]:{icon:r.Z,title:"No results found",content:"Please change your search criteria and try again",button:{label:"Manage token list",icon:d.Z}},[k.CROWDLOANS]:{icon:u.Z,title:"Youâ€™ve not participated in any crowdloans",content:"Your crowdloans portfolio will appear here"},[k.HISTORY]:{icon:m.Z,title:"No transaction yet",content:"Your transaction history will appear here"},[k.STAKING]:{icon:h.Z,title:"No staking",content:"Your staking accounts will appear here"}},v=(0,p.ZP)((({className:e,pageType:a})=>{const{content:t,icon:o,title:l}=x[a];return(0,g.jsx)("div",{className:s()(e),children:(0,g.jsxs)("div",{className:s()("message-wrapper"),children:[(0,g.jsxs)("div",{className:"message-icon",children:[(0,g.jsx)(n.Z,{iconColor:"#737373",phosphorIcon:o,weight:"fill"}),(0,g.jsx)("div",{className:"shape"})]}),(0,g.jsxs)("div",{className:s()("flex-col","message-content"),children:[(0,g.jsx)(i.Z.Title,{className:"title",children:l}),t&&(0,g.jsx)(i.Z.Text,{className:"content",children:t})]})]})})})).withConfig({displayName:"NoContent",componentId:"sc-oeplvg-0"})((()=>({height:"100%",".message-wrapper":{height:"100%",flex:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"50px 0 40px",".message-icon":{display:"flex",justifyContent:"center",alignItems:"center",fontSize:60,height:"fit-content",width:"fit-content",padding:"28px",position:"relative",".shape":{opacity:.3,background:"#4D4D4D",borderRadius:"50%",position:"absolute",top:0,left:0,bottom:0,right:0}},".message-content":{marginTop:16,justifyContent:"center",alignItems:"center",display:"flex",flexDirection:"column","& > *":{margin:0},".title":{fontSize:16,lineHeight:"24px"},".content":{fontSize:14,lineHeight:"22px",color:"rgba(255, 255, 255, 0.45)"}}},".action-button":{opacity:.45}})))},7419:(e,a,t)=>{t.d(a,{Z:()=>h});var n=t(92280),i=t(99656),o=t(61882),s=t(72779),l=t.n(s),c=t(13739),r=t(86267),d=t(2784),u=t(82575),m=t(52322);const h=(0,u.ZP)((({actionBtnIcon:e,className:a,extraButton:t,onClickActionBtn:s,onSearch:u,placeholder:h,searchValue:p,showActionBtn:g,showExtraButton:k=!1})=>{const x=(0,d.useCallback)((e=>{var a;const t=null==e||null===(a=e.target)||void 0===a?void 0:a.value;u(t)}),[u]),v=(0,d.useMemo)((()=>t||(0,m.jsx)(n.Z,{icon:(0,m.jsx)(i.Z,{phosphorIcon:c.Z,size:"sm"}),type:"ghost"})),[t]);return(0,m.jsx)("div",{className:l()("search-container",a),children:(0,m.jsxs)("div",{className:"right-section",children:[k&&v,(0,m.jsx)(o.Z.Search,{className:"search-input",onChange:x,placeholder:h,prefix:(0,m.jsx)(i.Z,{phosphorIcon:r.Z}),size:"md",value:p,suffix:g&&(0,m.jsx)(n.Z,{icon:e,onClick:s,size:"xs",type:"ghost"})})]})})})).withConfig({displayName:"Search",componentId:"sc-1it0m7w-0"})((()=>({display:"grid",width:"100%",".right-section":{justifySelf:"end",display:"flex",".search-input":{width:360,height:50}}})))}}]);