"use strict";(("undefined"!=typeof self?self:this).webpackChunk_subwallet_webapp=("undefined"!=typeof self?self:this).webpackChunk_subwallet_webapp||[]).push([[3329],{53329:(e,t,r)=>{r.r(t),r.d(t,{default:()=>w});var o=r(24358),n=r(36926),a=r(56858),i=r(57801),l=r(50334),s=r(4517),d=r(43246),c=r(70497),p=r(73160),u=r(12798),m=r(99656),h=r(96108),k=r(61882),f=r(50007),g=r(81781),x=r(34878),b=r(34070),y=r(21218),L=r(1610),j=r(46106),Z=r(2784),E=r(73557),V=r(82575),I=r(52322);const w=(0,V.ZP)((function({className:e=""}){const{t}=(0,d.Z)(),r=(0,E.s0)(),{token:w}=(0,V.Fg)(),F=(0,s.Z)(),[v]=u.Z.useForm(),[C,_]=(0,Z.useState)(!1),[S,H]=(0,Z.useState)(!1),[P,A]=(0,Z.useState)(!1),[W,M]=(0,Z.useState)({status:""}),[R,B]=(0,Z.useState)(!1),[N,T]=(0,Z.useState)(""),[U,D]=(0,Z.useState)("0"),z=(0,Z.useCallback)((()=>{console.log("click subheader")}),[]),O=(0,Z.useCallback)((()=>{r(-1)}),[r]),X=(0,Z.useCallback)((()=>"success"!==W.status),[W.status]),Y=(0,Z.useCallback)((()=>{_(!0);const e=v.getFieldValue("blockExplorer"),o=v.getFieldValue("crowdloanUrl"),a=v.getFieldValue("provider"),i=v.getFieldValue("decimals"),l=v.getFieldValue("symbol"),s=v.getFieldValue("addressPrefix"),d=v.getFieldValue("paraId"),c=v.getFieldValue("evmChainId"),u=v.getFieldValue("name"),m=v.getFieldValue("priceId"),h=(0,n.yH)(0),k={mode:"insert",chainEditInfo:{slug:"",currentProvider:h,providers:{[h]:a},blockExplorer:e,crowdloanUrl:o,symbol:l,chainType:S?"EVM":"Substrate",name:u,priceId:m},chainSpec:{genesisHash:N,decimals:i,addressPrefix:s,paraId:d,evmChainId:c,existentialDeposit:U}};(0,p.YYR)(k).then((e=>{_(!1),e?(F({message:t("Imported chain successfully")}),r(-1)):F({message:t("An error occurred, please try again")})})).catch((()=>{_(!1),F({message:t("An error occurred, please try again")})}))}),[U,v,N,S,r,F,t]),$=(0,Z.useCallback)(((e,r)=>new Promise(((e,o)=>{0===r.length||(0,a.CB)(r)?e():o(new Error(t("Block explorer must be a valid URL")))}))),[t]),q=(0,Z.useCallback)(((e,r)=>new Promise(((e,o)=>{0===r.length||(0,a.CB)(r)?e():o(new Error(t("Crowdloan URL must be a valid URL")))}))),[t]),G=(0,Z.useCallback)((e=>{switch(e){case o.l.CONNECTION_FAILURE:return t("Cannot connect to this provider");case o.l.EXISTED_PROVIDER:return t("This provider has already been added");case o.l.EXISTED_CHAIN:return t("This chain has already been added");default:return t("Error validating this provider")}}),[t]),J=(0,Z.useCallback)(((e,r)=>new Promise(((e,o)=>{if((0,a.CB)(r)){A(!0),B(!0);const n=r.replaceAll(" ","");(0,p.t6d)(n).then((t=>{B(!1),t.success&&(M({status:"success"}),t.evmChainId?(H(!0),v.setFieldValue("evmChainId",t.evmChainId),v.setFieldValue("type","EVM")):(H(!1),v.setFieldValue("addressPrefix",t.addressPrefix),v.setFieldValue("paraId",t.paraId),v.setFieldValue("type","Substrate"),T(t.genesisHash),D(t.existentialDeposit)),v.setFieldValue("decimals",t.decimals),v.setFieldValue("name",t.name),v.setFieldValue("symbol",t.symbol),e()),t.error&&(t.evmChainId?(H(!0),v.setFieldValue("evmChainId",t.evmChainId),v.setFieldValue("type","EVM")):(H(!1),v.setFieldValue("addressPrefix",t.addressPrefix),v.setFieldValue("paraId",t.paraId),v.setFieldValue("type","Substrate")),v.setFieldValue("decimals",t.decimals),v.setFieldValue("name",t.name),v.setFieldValue("symbol",t.symbol),M({status:"error",message:G(t.error)}),o(new Error(G(t.error))))})).catch((()=>{B(!1),o(new Error(t("Error validating this provider"))),M({status:"error",message:t("Error validating this provider")})}))}else o(new Error(t("Provider URL is not valid"))),M({status:""}),A(!1)}))),[v,G,t]),K=(0,Z.useCallback)((()=>P?"success"===W.status?(0,I.jsx)(m.Z,{customSize:"20px",iconColor:w.colorSuccess,phosphorIcon:x.Z,type:"phosphor",weight:"bold"}):R?(0,I.jsx)(h.Z,{size:"20px"}):"error"===W.status?(0,I.jsx)(m.Z,{customSize:"20px",iconColor:w["gray-4"],phosphorIcon:b.Z,type:"phosphor",weight:"bold"}):(0,I.jsx)(I.Fragment,{}):(0,I.jsx)(I.Fragment,{})),[P,R,W.status,w]);return(0,c.Z)(v,"provider"),(0,I.jsx)(i.FE,{className:`chain_import ${e}`,children:(0,I.jsx)(i.Ar.WithSubHeaderOnly,{leftFooterButton:{onClick:O,children:t("Cancel")},onBack:O,rightFooterButton:{block:!0,disabled:X(),icon:(0,I.jsx)(m.Z,{phosphorIcon:y.Z,type:"phosphor",weight:"fill"}),loading:C,onClick:Y,children:t("Save")},subHeaderIcons:[{icon:(0,I.jsx)(l.Z,{}),onClick:z}],title:t("Import network"),children:(0,I.jsxs)("div",{className:"chain_import__container",children:[(0,I.jsx)("div",{className:"chain_import__header_info",children:t("Currently support WSS provider for Substrate networks and HTTP provider for EVM network")}),(0,I.jsx)(u.Z,{disabled:C,form:v,children:(0,I.jsxs)("div",{className:"chain_import__attributes_container",children:[(0,I.jsx)(u.Z.Item,{name:"provider",rules:[{validator:J}],statusHelpAsTooltip:!0,validateTrigger:["onBlur"],children:(0,I.jsx)(k.Z,{disabled:R,placeholder:t("Provider URL"),prefix:(0,I.jsx)(m.Z,{customSize:"24px",iconColor:w["gray-4"],phosphorIcon:L.Z,type:"phosphor",weight:"bold"}),suffix:K(),tooltip:t("Provider URL"),tooltipPlacement:"topLeft"})}),(0,I.jsxs)(f.Z,{gutter:w.paddingSM,children:[(0,I.jsx)(g.Z,{span:16,children:(0,I.jsx)(u.Z.Item,{name:"name",children:(0,I.jsx)(k.Z,{disabled:!0,placeholder:t("Network name"),prefix:(0,I.jsx)(m.Z,{customSize:"24px",iconColor:w["gray-4"],phosphorIcon:j.Z,type:"phosphor",weight:"bold"}),tooltip:t("Network name"),tooltipPlacement:"topLeft"})})}),(0,I.jsx)(g.Z,{span:8,children:(0,I.jsx)(u.Z.Item,{name:"symbol",children:(0,I.jsx)(k.Z,{disabled:!0,placeholder:t("Symbol"),tooltip:t("Symbol"),tooltipPlacement:"topLeft"})})})]}),(0,I.jsxs)(f.Z,{gutter:w.paddingSM,children:[(0,I.jsx)(g.Z,{span:12,children:(0,I.jsx)(u.Z.Item,{name:"priceId",children:(0,I.jsx)(k.Z,{placeholder:t("Price ID"),tooltip:t("Price ID"),tooltipPlacement:"topLeft"})})}),(0,I.jsx)(g.Z,{span:12,children:(0,I.jsx)(u.Z.Item,{name:"type",children:(0,I.jsx)(k.Z,{disabled:!0,placeholder:t("Network type"),tooltip:t("Network type"),tooltipPlacement:"topLeft"})})})]}),(0,I.jsx)(u.Z.Item,{name:"blockExplorer",rules:[{validator:$}],statusHelpAsTooltip:!0,children:(0,I.jsx)(k.Z,{placeholder:t("Block explorer"),tooltip:t("Block explorer"),tooltipPlacement:"topLeft"})}),(0,I.jsx)(u.Z.Item,{name:"crowdloanUrl",rules:[{validator:q}],statusHelpAsTooltip:!0,children:(0,I.jsx)(k.Z,{placeholder:t("Crowdloan URL"),tooltip:t("Crowdloan URL"),tooltipPlacement:"topLeft"})})]})})]})})})})).withConfig({displayName:"ChainImport",componentId:"sc-jyrbbz-0"})((({theme:{token:e}})=>({".chain_import__header_info":{color:e.colorTextTertiary,fontSize:e.fontSizeHeading6,lineHeight:e.lineHeightHeading6,fontWeight:e.bodyFontWeight,width:"100%",textAlign:"center",marginBottom:e.margin,marginTop:24},".chain_import__container":{marginRight:e.margin,marginLeft:e.margin},".chain_import__attributes_container":{display:"flex",flexDirection:"column",gap:e.marginSM},".ant-input-container .ant-input-wrapper":{overflow:"hidden"},".ant-form-item":{marginBottom:0},".ant-input-container.-disabled .ant-input":{cursor:"default"},".ant-input-container.-disabled":{cursor:"default"},".ant-form-item-with-help .ant-form-item-explain":{paddingBottom:0},".ant-input-container .ant-input-suffix":{marginRight:0},".web-ui-enable &":{".ant-sw-screen-layout-body":{flex:"0 0 auto",marginBottom:e.marginXS},".chain_import__header_info":{maxWidth:384,marginLeft:"auto",marginRight:"auto"}}})))},21218:(e,t,r)=>{r.d(t,{Z:()=>d});var o=r(2784),n=r(21890),a=r(76712),i=new Map;i.set("bold",(function(e){return o.createElement(o.Fragment,null,o.createElement("path",{d:"M40,91.3V208a8,8,0,0,0,8,8H208a8,8,0,0,0,8-8V48a8,8,0,0,0-8-8H91.3a7.9,7.9,0,0,0-5.6,2.3L42.3,85.7A7.9,7.9,0,0,0,40,91.3Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),o.createElement("circle",{cx:"128",cy:"148",r:"28",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),o.createElement("polyline",{points:"104 80 160 80 160 40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))})),i.set("duotone",(function(e){return o.createElement(o.Fragment,null,o.createElement("path",{d:"M208,40H91.3a7.9,7.9,0,0,0-5.6,2.3L42.3,85.7A7.9,7.9,0,0,0,40,91.3V208a8,8,0,0,0,8,8H208a8,8,0,0,0,8-8V48A8,8,0,0,0,208,40ZM128,176a28,28,0,1,1,28-28A28,28,0,0,1,128,176Z",opacity:"0.2"}),o.createElement("path",{d:"M40,91.3V208a8,8,0,0,0,8,8H208a8,8,0,0,0,8-8V48a8,8,0,0,0-8-8H91.3a7.9,7.9,0,0,0-5.6,2.3L42.3,85.7A7.9,7.9,0,0,0,40,91.3Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),o.createElement("circle",{cx:"128",cy:"148",r:"28",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),o.createElement("polyline",{points:"96 80 160 80 160 40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))})),i.set("fill",(function(){return o.createElement(o.Fragment,null,o.createElement("path",{d:"M208,32H172a4,4,0,0,0-4,4V80a8,8,0,0,1-8,8H96.3A8.2,8.2,0,0,1,88,80.5,8,8,0,0,1,96,72h56V36a4,4,0,0,0-4-4H91.3A15.9,15.9,0,0,0,80,36.7L36.7,80A15.9,15.9,0,0,0,32,91.3V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V48A16,16,0,0,0,208,32ZM128,176a28,28,0,1,1,28-28A28.1,28.1,0,0,1,128,176Z"}))})),i.set("light",(function(e){return o.createElement(o.Fragment,null,o.createElement("path",{d:"M40,91.3V208a8,8,0,0,0,8,8H208a8,8,0,0,0,8-8V48a8,8,0,0,0-8-8H91.3a7.9,7.9,0,0,0-5.6,2.3L42.3,85.7A7.9,7.9,0,0,0,40,91.3Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),o.createElement("circle",{cx:"128",cy:"148",r:"28",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),o.createElement("polyline",{points:"96 80 160 80 160 40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))})),i.set("thin",(function(e){return o.createElement(o.Fragment,null,o.createElement("path",{d:"M40,91.3V208a8,8,0,0,0,8,8H208a8,8,0,0,0,8-8V48a8,8,0,0,0-8-8H91.3a7.9,7.9,0,0,0-5.6,2.3L42.3,85.7A7.9,7.9,0,0,0,40,91.3Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),o.createElement("circle",{cx:"128",cy:"148",r:"28",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),o.createElement("polyline",{points:"96 80 160 80 160 40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))})),i.set("regular",(function(e){return o.createElement(o.Fragment,null,o.createElement("path",{d:"M40,91.3V208a8,8,0,0,0,8,8H208a8,8,0,0,0,8-8V48a8,8,0,0,0-8-8H91.3a7.9,7.9,0,0,0-5.6,2.3L42.3,85.7A7.9,7.9,0,0,0,40,91.3Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),o.createElement("circle",{cx:"128",cy:"148",r:"28",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),o.createElement("polyline",{points:"96 80 160 80 160 40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}));var l=function(e,t){return(0,n._)(e,t,i)},s=(0,o.forwardRef)((function(e,t){return o.createElement(a.Z,Object.assign({ref:t},e,{renderPath:l}))}));s.displayName="FloppyDiskBack";const d=s}}]);