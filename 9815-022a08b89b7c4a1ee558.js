"use strict";(("undefined"!=typeof self?self:this).webpackChunk_subwallet_webapp=("undefined"!=typeof self?self:this).webpackChunk_subwallet_webapp||[]).push([[9815,9801],{19815:(e,t,n)=>{n.r(t),n.d(t,{default:()=>_});var o=n(57801),l=n(32204),r=n(33624),a=n(75576),i=n(3612),s=n(43557),c=n(73160),d=n(37586),u=n(99656),m=n(12162),p=n(96108),h=n(17446),f=n(92280),g=n(72779),k=n.n(g),x=n(16418),y=n(50094),b=n(82524),j=n(94344),C=n(2784),N=n(73557),w=n(82575),I=n(29801),L=n(52322);const E=(0,L.jsx)(u.Z,{phosphorIcon:x.Z,size:"sm",type:"phosphor"}),v=(0,L.jsx)(u.Z,{phosphorIcon:y.Z,size:"sm",type:"phosphor"}),Z="import-nft-modal",_=(0,w.ZP)((function({className:e=""}){const{t}=(0,s.$G)(),n=(0,N.s0)(),g=(0,N.bx)(),x=null==g?void 0:g.setSearchPlaceholder,y=(0,C.useContext)(a.R0),{isWebUI:w}=(0,C.useContext)(i.sG),{nftCollections:_,nftItems:S}=(0,s.Nw)(),[T,F]=C.useState(!1),W=(0,s.lm)(),{activeModal:A,inactiveModal:P}=(0,C.useContext)(m.t),[R,z]=(0,C.useState)("importNftKey");(0,C.useEffect)((()=>{null==x||x("Collectible name")}),[x]);const M=[{icon:E,disabled:T,size:"sm",onClick:()=>{F(!0),W({icon:(0,L.jsx)(p.Z,{size:32}),style:{top:210},direction:"vertical",duration:1.8,closable:!1,message:t("Reloading")}),(0,c.TUF)({data:"nft"}).then((()=>{F(!1)})).catch(console.error)}},{icon:v,onClick:()=>{n("/settings/tokens/import-nft",{state:{isExternalRequest:!1}})}}],O=(0,C.useCallback)(((e,t)=>{var n;const o=t.toLowerCase();return(null===(n=e.collectionName)||void 0===n?void 0:n.toLowerCase().includes(o))||e.collectionId.toLowerCase().includes(o)}),[]),H=(0,C.useCallback)((e=>{const t=[];return S.forEach((n=>{n.collectionId===e.collectionId&&n.chain===e.chain&&t.push(n)})),t}),[S]),B=(0,C.useCallback)((e=>{n("/home/nfts/collection-detail",{state:e})}),[n]),G=(0,C.useCallback)((e=>{const t=H(e);let n;for(const e of t)if(e.image){n=e.image;break}const o={collectionInfo:e,nftList:t};return(0,L.jsx)(d.n,{fallbackImage:n,handleOnClick:B,image:e.image,itemCount:t.length,routingParams:o,title:e.collectionName||e.collectionId},`${e.collectionId}_${e.chain}`)}),[H,B]),D=(0,C.useCallback)((()=>w?(0,L.jsx)(r.Z,{pageType:r.G.NFT}):(0,L.jsx)(o.rf,{emptyMessage:t("Your NFT collectible will appear here!"),emptyTitle:t("No NFT collectible"),phosphorIcon:b.Z})),[w,t]),Y=(0,C.useCallback)((()=>{A(Z)}),[A]),V=(0,C.useCallback)((()=>{P(Z),z(`importNftKey-${Date.now()}`)}),[P]),K=(0,C.useMemo)((()=>w?_.length>0?(0,L.jsx)("div",{className:"nft-collect-list-wrapper",children:(0,L.jsx)(h.Z,{displayGrid:!0,gridGap:"14px",list:_,minColumnWidth:"160px",renderItem:G,renderOnScroll:!0,renderWhenEmpty:D,searchBy:O,searchMinCharactersCount:2,searchTerm:null==g?void 0:g.searchInput})}):(0,L.jsx)(r.Z,{pageType:r.G.NFT}):(0,L.jsx)(h.Z.Section,{className:k()("nft_collection_list__container"),displayGrid:!0,enableSearchInput:!0,gridGap:"14px",list:_,minColumnWidth:"160px",renderItem:G,renderOnScroll:!0,renderWhenEmpty:D,searchFunction:O,searchMinCharactersCount:2,searchPlaceholder:t("Search collection name")})),[w,_,G,D,O,null==g?void 0:g.searchInput,t]);return(0,L.jsxs)(o.FE,{className:`nft_container ${e}`,resolve:y.awaitStores(["nft"]),children:[(0,L.jsxs)(o.Ar.Base,{...!w&&{showSubHeader:!0,subHeaderBackground:"transparent",subHeaderCenter:!1,subHeaderIcons:M,subHeaderPaddingVertical:!0,title:t("Collectibles")},children:[K,(0,L.jsx)(f.Z,{block:!0,icon:(0,L.jsx)(u.Z,{phosphorIcon:j.Z,size:"md",weight:"fill"}),onClick:Y,type:"ghost",children:t("Import collectible")})]}),(0,L.jsx)(l.I,{className:k()("import-nft-modal",e),id:Z,onCancel:V,title:t("Import NFT"),children:(0,L.jsx)(I.default,{modalContent:!0,onSubmitCallback:V},R)})]})})).withConfig({displayName:"NftCollections",componentId:"sc-3r07z1-0"})((({theme:{token:e}})=>({"&.nft_container":{color:e.colorTextLight1,fontSize:e.fontSizeLG,"&__inner":{display:"flex",flexDirection:"column"},".nft_collection_list__container":{height:"100%",flex:1,".ant-sw-list":{paddingBottom:1,marginBottom:-1}},".nft-collect-list-wrapper":{flex:1}},"&.import-nft-modal":{".ant-sw-modal-body":{paddingLeft:0,paddingRight:0,paddingBottom:0},".nft_import__container":{marginTop:e.marginXS,marginBottom:e.marginXS},".ant-sw-screen-layout-container .ant-sw-screen-layout-footer-button-container-alone":{marginBottom:e.margin},".ant-form":{display:"flex",flexDirection:"column",gap:e.sizeXS}}})))},29801:(e,t,n)=>{n.r(t),n.d(t,{default:()=>N});var o=n(80949),l=n(36926),r=n(56858),a=n(57801),i=n(75576),s=n(43557),c=n(73160),d=n(63910),u=n(12798),m=n(99656),p=n(90809),h=n(61882),f=n(94344),g=n(2784),k=n(73557),x=n(82575),y=n(61162),b=n(68774),j=n(52322);function C(e){if(!e)return[];const t=(0,l.g6)(e),n=[];return t.forEach((e=>{n.push({label:e.toString(),value:e})})),n}const N=(0,x.ZP)((function({className:e="",modalContent:t,onSubmitCallback:n}){const{t:x}=(0,s.$G)(),N=(0,s.lm)(),w=(0,k.s0)(),I=(0,g.useContext)(i.R0),L=(0,s.c_)(),[E]=u.Z.useForm(),v=u.Z.useWatch("chain",E),Z=u.Z.useWatch("type",E),_=u.Z.useWatch("collectionName",E),S=(0,g.useMemo)((()=>Object.values(L)),[L]),T=(0,s.xo)(v),[F,W]=(0,g.useState)(!1),[A,P]=(0,g.useState)(!0),[R,z]=(0,g.useState)(!0),M=(0,g.useMemo)((()=>C(L[v])),[L,v]),O=(0,s.vI)(),H=(0,g.useCallback)((()=>{t?null==n||n():w("/home/nfts/collections")}),[t,w,n]),B=(0,g.useCallback)(((e,t)=>{const{error:n}=(0,d.ij)(t),o=(0,d.eW)(e),l=(0,d.eW)(t),r=(0,d.s_)(t),a=Object.entries(l).some((([e,t])=>"symbol"!==e&&!t)),{chain:i,type:s}=o;if(i){const e=C(L[i]);1===e.length?E.setFieldValue("type",e[0].value):E.resetFields(["type"]),E.resetFields(["contractAddress","collectionName"])}s&&E.resetFields(["contractAddress","collectionName"]),r.contractAddress.length>0&&E.resetFields(["collectionName"]),z(!l.chain||!l.type||r.contractAddress.length>0),P(a||n)}),[L,E]),G=(0,g.useCallback)((e=>{const{chain:t,contractAddress:n,symbol:o,type:a}=e,i=_.replaceAll(" ","").toUpperCase(),s=(0,r.k1)(n,T);W(!0),setTimeout((()=>{(0,c.fxK)({originChain:t,slug:"",name:_,symbol:""!==o?o:i,decimals:null,priceId:null,minAmount:null,assetType:a,metadata:(0,l.ST)(s),multiChainAsset:null,hasValue:(0,l.nO)(L[t]),icon:""}).then((e=>{e?(N({message:x("Imported NFT successfully")}),H()):N({message:x("An error occurred, please try again")})})).catch((()=>{N({message:x("An error occurred, please try again")})})).finally((()=>{W(!1)}))}),300)}),[_,T,L,N,x,H]),D=(0,g.useCallback)(((e,t)=>new Promise(((e,n)=>{t.replaceAll(" ","").length>=3?e():n(new Error(x("Collection name must have at least 3 characters")))}))),[x]),Y=(0,g.useCallback)(((e,t)=>new Promise(((e,n)=>{if((0,y.U)(t)){const l=[o.Ym.ERC721].includes(Z)&&(0,b.u)(t),a=[o.Ym.PSP34].includes(Z)&&(0,r.NJ)(t),i=(0,r.k1)(t,T);l||a?(W(!0),(0,c.UjR)({contractAddress:i,originChain:v,type:Z}).then((t=>{W(!1),t.isExist&&n(x("Existed NFT")),t.contractError&&n(x("Invalid contract for the selected chain")),t.isExist||t.contractError||(E.setFieldValue("collectionName",t.name),E.setFieldValue("symbol",t.symbol),e())})).catch((()=>{W(!1),n(x("Invalid contract for the selected chain"))}))):n(x("Invalid contract address"))}else n(x("Invalid contract address"))}))),[T,E,v,Z,x]);return(0,g.useEffect)((()=>{v&&O(v)}),[v,O]),(0,j.jsx)(a.FE,{className:e,resolve:I.awaitStores(["nft"]),children:(0,j.jsxs)(a.Ar.Base,{onBack:H,rightFooterButton:{disabled:A,icon:(0,j.jsx)(m.Z,{phosphorIcon:f.Z,weight:"fill"}),loading:F,onClick:E.submit,children:x("Import")},title:x("Import NFT"),children:[!t&&(0,j.jsx)(p.Z,{background:"transparent",center:!0,className:"transaction-header",onBack:H,paddingVertical:!0,showBackButton:!0,title:x("Import NFT")}),(0,j.jsx)("div",{className:"nft_import__container",children:(0,j.jsxs)(u.Z,{className:"form-space-xs",form:E,initialValues:{contractAddress:"",chain:"",collectionName:"",type:""},name:"nft-import",onFieldsChange:B,onFinish:G,children:[(0,j.jsx)(u.Z.Item,{name:"chain",children:(0,j.jsx)(a.oT,{items:S,label:x("Network"),placeholder:x("Select network"),title:x("Select network")})}),(0,j.jsx)(u.Z.Item,{name:"type",children:(0,j.jsx)(a.Rf,{className:e,disabled:!v,items:M,label:x("Type"),placeholder:x("Select NFT type"),title:x("Select NFT type")})}),(0,j.jsx)(u.Z.Item,{name:"contractAddress",rules:[{validator:Y}],statusHelpAsTooltip:!0,children:(0,j.jsx)(a.Jg,{addressPrefix:T,disabled:!Z,label:x("Contract address"),placeholder:x("Enter or paste an address"),showScanner:!0})}),(0,j.jsx)(u.Z.Item,{name:"collectionName",required:!0,rules:[{validator:D}],statusHelpAsTooltip:!0,children:(0,j.jsx)(h.Z,{disabled:R,label:x("NFT collection name")})})]})})]})})})).withConfig({displayName:"NftImport",componentId:"sc-h8ppt5-0"})((({theme:{token:e}})=>({".nft_import__container":{marginTop:e.margin,paddingLeft:e.padding,paddingRight:e.padding},".nft_import__Qr":{cursor:"pointer"},".ant-web3-block-right-item":{marginRight:0},".ant-input-suffix":{marginRight:0},".nft_import__selected_option":{color:e.colorTextHeading},".nft-type-item":{"--nft-type-icon-bg-color":e["orange-6"],"--nft-type-icon-color":e.colorWhite,"--nft-selected-icon-color":e.colorSuccess,".ant-web3-block-right-item":{marginRight:0}}})))},37586:(e,t,n)=>{n.d(t,{n:()=>d});var o=n(89558),l=n(96108),r=n(97730),a=n(2784),i=n(47176),s=n(82575),c=n(52322);const d=(0,s.ZP)((function({className:e="",fallbackImage:t,handleOnClick:n,have3dViewer:d,image:u,itemCount:m,routingParams:p,title:h}){const{extendToken:f}=(0,s.Fg)(),[g,k]=(0,a.useState)(!0),[x,y]=(0,a.useState)(!1),[b,j]=(0,a.useState)(!1),C=(0,a.useCallback)((()=>{n&&n(p)}),[n,p]),N=(0,a.useCallback)((()=>{k(!1),y(!0)}),[]),w=(0,a.useCallback)((()=>{y(!1),j(!0)}),[]),I=(0,a.useCallback)((()=>u||t||f.defaultImagePlaceholder),[f.defaultImagePlaceholder,t,u]),L=(0,a.useCallback)((()=>(0,c.jsx)("div",{className:"nft_gallery_wrapper__loading",children:(0,c.jsx)(l.Z,{existIcon:!0,prefixCls:""})})),[]),E=(0,a.useCallback)((()=>g?(0,c.jsx)(i.LazyLoadImage,{delayTime:1e4,height:"100%",onError:N,placeholder:L(),src:I(),width:"100%"}):x?(0,c.jsx)(i.LazyLoadComponent,{children:(0,c.jsx)("video",{autoPlay:!0,height:"100%",loop:!0,muted:!0,onError:w,width:"100%",children:(0,c.jsx)("source",{src:I(),type:"video/mp4"})})}):d&&b?(0,c.jsx)(i.LazyLoadComponent,{children:(0,c.jsx)("model-viewer",{alt:"model-viewer","ar-status":"not-presenting","auto-rotate":!0,"auto-rotate-delay":100,bounds:"tight","disable-pan":!0,"disable-scroll":!0,"disable-tap":!0,"disable-zoom":!0,"environment-image":"neutral","interaction-prompt":"none",loading:"eager",src:I(),style:{width:"100%",height:"100%"},"touch-action":"none",...o.iz})}):(0,c.jsx)(i.LazyLoadImage,{src:f.defaultImagePlaceholder,visibleByDefault:!0})),[g,x,d,b,f.defaultImagePlaceholder,N,L,I,w]);return(0,c.jsx)(r.Z,{className:`nft_gallery_wrapper ${e}`,count:m,customImageNode:E(),onClick:C,title:h})})).withConfig({displayName:"NftGalleryWrapper",componentId:"sc-o2t73q-0"})((({theme:{token:e}})=>({color:e.colorTextLight1,fontSize:e.fontSizeLG,".__image-wrapper":{overflow:"hidden"},".nft_gallery_wrapper__loading":{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}})))},33624:(e,t,n)=>{n.d(t,{G:()=>g,Z:()=>x});var o=n(99656),l=n(96562),r=n(72779),a=n.n(r),i=n(82524),s=n(1780),c=n(86267),d=n(74711),u=n(95414),m=n(56899),p=n(69339),h=(n(2784),n(82575)),f=n(52322);let g=function(e){return e.NFT="nft",e.TOKEN="token",e.SEARCH="search",e.CROWDLOANS="crowdloans",e.HISTORY="history",e.STAKING="staking",e}({});const k={[g.NFT]:{icon:i.Z,title:"No collectible found",content:"Your collectibles will appear here"},[g.TOKEN]:{icon:s.Z,title:"No token found",content:"Your token will appear here"},[g.SEARCH]:{icon:c.Z,title:"No results found",content:"Please change your search criteria and try again",button:{label:"Manage token list",icon:d.Z}},[g.CROWDLOANS]:{icon:u.Z,title:"You’ve not participated in any crowdloans",content:"Your crowdloans portfolio will appear here"},[g.HISTORY]:{icon:m.Z,title:"No transaction yet",content:"Your transaction history will appear here"},[g.STAKING]:{icon:p.Z,title:"No staking",content:"Your staking accounts will appear here"}},x=(0,h.ZP)((({className:e,pageType:t})=>{const{content:n,icon:r,title:i}=k[t];return(0,f.jsx)("div",{className:a()(e),children:(0,f.jsxs)("div",{className:a()("message-wrapper"),children:[(0,f.jsxs)("div",{className:"message-icon",children:[(0,f.jsx)(o.Z,{iconColor:"#737373",phosphorIcon:r,weight:"fill"}),(0,f.jsx)("div",{className:"shape"})]}),(0,f.jsxs)("div",{className:a()("flex-col","message-content"),children:[(0,f.jsx)(l.Z.Title,{className:"title",children:i}),n&&(0,f.jsx)(l.Z.Text,{className:"content",children:n})]})]})})})).withConfig({displayName:"NoContent",componentId:"sc-oeplvg-0"})((()=>({height:"100%",".message-wrapper":{height:"100%",flex:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"50px 0 40px",".message-icon":{display:"flex",justifyContent:"center",alignItems:"center",fontSize:60,height:"fit-content",width:"fit-content",padding:"28px",position:"relative",".shape":{opacity:.3,background:"#4D4D4D",borderRadius:"50%",position:"absolute",top:0,left:0,bottom:0,right:0}},".message-content":{marginTop:16,justifyContent:"center",alignItems:"center",display:"flex",flexDirection:"column","& > *":{margin:0},".title":{fontSize:16,lineHeight:"24px"},".content":{fontSize:14,lineHeight:"22px",color:"rgba(255, 255, 255, 0.45)"}}},".action-button":{opacity:.45}})))},16418:(e,t,n)=>{n.d(t,{Z:()=>c});var o=n(2784),l=n(21890),r=n(76712),a=new Map;a.set("bold",(function(e){return o.createElement(o.Fragment,null,o.createElement("polyline",{points:"176.2 99.7 224.2 99.7 224.2 51.7",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),o.createElement("path",{d:"M190.2,190.2a88,88,0,1,1,0-124.4l34,33.9",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))})),a.set("duotone",(function(e){return o.createElement(o.Fragment,null,o.createElement("polyline",{points:"176.2 99.7 224.2 99.7 224.2 51.7",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),o.createElement("path",{d:"M190.2,190.2a88,88,0,1,1,0-124.4l34,33.9",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))})),a.set("fill",(function(){return o.createElement(o.Fragment,null,o.createElement("path",{d:"M232.2,51.7v48a8,8,0,0,1-8,8h-48a8,8,0,0,1-5.7-13.6l18.4-18.4-4.3-4.3a80,80,0,1,0,0,113.2,7.9,7.9,0,0,1,11.3,0,8,8,0,0,1,0,11.3,96,96,0,1,1,0-135.8l4.3,4.3,18.3-18.3a8,8,0,0,1,8.7-1.8A8.2,8.2,0,0,1,232.2,51.7Z"}))})),a.set("light",(function(e){return o.createElement(o.Fragment,null,o.createElement("polyline",{points:"176.2 99.7 224.2 99.7 224.2 51.7",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),o.createElement("path",{d:"M190.2,190.2a88,88,0,1,1,0-124.4l34,33.9",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))})),a.set("thin",(function(e){return o.createElement(o.Fragment,null,o.createElement("polyline",{points:"176.2 99.7 224.2 99.7 224.2 51.7",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),o.createElement("path",{d:"M190.2,190.2a88,88,0,1,1,0-124.4l34,33.9",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))})),a.set("regular",(function(e){return o.createElement(o.Fragment,null,o.createElement("polyline",{points:"176.2 99.7 224.2 99.7 224.2 51.7",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),o.createElement("path",{d:"M190.2,190.2a88,88,0,1,1,0-124.4l34,33.9",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}));var i=function(e,t){return(0,l._)(e,t,a)},s=(0,o.forwardRef)((function(e,t){return o.createElement(r.Z,Object.assign({ref:t},e,{renderPath:i}))}));s.displayName="ArrowClockwise";const c=s},50094:(e,t,n)=>{n.d(t,{Z:()=>c});var o=n(2784),l=n(21890),r=n(76712),a=new Map;a.set("bold",(function(e){return o.createElement(o.Fragment,null,o.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),o.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))})),a.set("duotone",(function(e){return o.createElement(o.Fragment,null,o.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),o.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))})),a.set("fill",(function(){return o.createElement(o.Fragment,null,o.createElement("path",{d:"M216,120H136V40a8,8,0,0,0-16,0v80H40a8,8,0,0,0,0,16h80v80a8,8,0,0,0,16,0V136h80a8,8,0,0,0,0-16Z"}))})),a.set("light",(function(e){return o.createElement(o.Fragment,null,o.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),o.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))})),a.set("thin",(function(e){return o.createElement(o.Fragment,null,o.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),o.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))})),a.set("regular",(function(e){return o.createElement(o.Fragment,null,o.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),o.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}));var i=function(e,t){return(0,l._)(e,t,a)},s=(0,o.forwardRef)((function(e,t){return o.createElement(r.Z,Object.assign({ref:t},e,{renderPath:i}))}));s.displayName="Plus";const c=s}}]);