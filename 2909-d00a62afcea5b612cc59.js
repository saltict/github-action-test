"use strict";(("undefined"!=typeof self?self:this).webpackChunk_subwallet_webapp=("undefined"!=typeof self?self:this).webpackChunk_subwallet_webapp||[]).push([[2909],{72909:(e,t,n)=>{n.r(t),n.d(t,{default:()=>H});var o=n(36926),r=n(56858),l=n(57801),i=n(95572),a=n(75576),s=n(4517),c=n(43246),d=n(98004),u=n(71871),p=n(9438),h=n(73160),k=n(12798),m=n(99656),f=n(92280),x=n(19201),g=n(50007),L=n(81781),y=n(61882),j=n(5373),b=n(50094),Z=n(21218),E=n(1610),w=n(46106),v=n(2784),_=n(73557),C=n(82575),P=n(52322);const H=(0,C.ZP)((function({className:e=""}){const{t}=(0,c.Z)(),n=(0,_.s0)(),H=(0,v.useContext)(a.R0),{token:M}=(0,C.Fg)(),S=(0,_.TH)(),W=(0,s.Z)(),[V]=k.Z.useForm(),{handleSimpleConfirmModal:F}=(0,d.Z)({title:t("Delete network"),maskClosable:!0,closable:!0,type:"error",subTitle:t("You are about to delete this network"),content:t("Confirm delete this network"),okText:t("Remove")}),[A,I]=(0,v.useState)(!1),[N,B]=(0,v.useState)(!1),[R,U]=(0,v.useState)(!1),[D,T]=(0,v.useState)(!1),z=(0,v.useMemo)((()=>S.state),[S.state]),O=(0,u.Z)(z),Y=(0,p.Z)(z),[$]=(0,v.useState)(O),[G]=(0,v.useState)(Y),J=(0,v.useMemo)((()=>$&&(0,o.Py)($)),[$]),{decimals:X,symbol:q}=(0,v.useMemo)((()=>(0,o.Nm)($)),[$]),K=(0,v.useMemo)((()=>$.providers[G.currentProvider]),[$.providers,G.currentProvider]),Q=(0,v.useMemo)((()=>(0,o.x)($)),[$]),ee=(0,v.useMemo)((()=>(0,o.nv)($)),[$]),te=(0,v.useMemo)((()=>(0,o.GS)($)),[$]),ne=(0,v.useCallback)((()=>{n(-1)}),[n]),oe=(0,v.useCallback)((()=>{F().then((()=>{T(!0),(0,h.tJ$)($.slug).then((e=>{e?(n(-1),W({message:t("Deleted network successfully")})):(W({message:t("Error. Please try again")}),T(!1))})).catch((()=>{W({message:t("Error. Please try again")}),T(!1)}))})).catch(console.log)}),[$.slug,F,n,W,t]),re=(0,v.useCallback)((()=>{let e="";const t=[];(0,o.ie)($)&&t.push("Substrate"),(0,o.h4)($)&&t.push("EVM");for(let n=0;n<t.length;n++)e=e.concat(t[n]),n!==t.length-1&&(e=e.concat(", "));return e}),[$]),le=(0,v.useMemo)((()=>({currentProvider:G.currentProvider,blockExplorer:(0,o.a_)($),crowdloanUrl:(0,o.C5)($)})),[$,G.currentProvider]),ie=[{icon:(0,P.jsx)(m.Z,{customSize:`${M.fontSizeHeading3}px`,phosphorIcon:j.Z,type:"phosphor",weight:"light"}),tooltip:t("Delete network"),onClick:oe,disabled:!((0,o._G)($.slug)&&!G.active)}],ae=(0,v.useCallback)((()=>{n("/settings/chains/add-provider",{state:$.slug})}),[$.slug,n]),se=(0,v.useCallback)((()=>!A||!N||D),[A,D,N]),ce=(0,v.useCallback)((()=>{U(!0);const e=V.getFieldValue("blockExplorer"),o=V.getFieldValue("crowdloanUrl"),r=V.getFieldValue("currentProvider"),l={mode:"update",chainEditInfo:{slug:$.slug,currentProvider:r,providers:$.providers,blockExplorer:e,crowdloanUrl:o}};(0,h.YYR)(l).then((e=>{U(!1),e?(W({message:t("Updated network successfully")}),n(-1)):W({message:t("An error occurred, please try again")})})).catch((()=>{U(!1),W({message:t("An error occurred, please try again")})}))}),[$.providers,$.slug,V,n,W,t]),de=(0,v.useCallback)((()=>(0,P.jsx)(f.Z,{className:"chain_detail__provider_suffix_btn",icon:(0,P.jsx)(m.Z,{customSize:"20px",phosphorIcon:b.Z,type:"phosphor",weight:"bold"}),onClick:ae,size:"xs",type:"ghost"})),[ae]),ue=(0,v.useCallback)(((e,t)=>{let n=!0;for(const e of t)e.errors&&e.errors.length>0&&(n=!1);I(!0),B(n)}),[]),pe=(0,v.useCallback)(((e,n)=>new Promise(((e,o)=>{0===n.length||(0,r.CB)(n)?e():o(new Error(t("Crowdloan URL must be a valid URL")))}))),[t]),he=(0,v.useCallback)(((e,n)=>new Promise(((e,o)=>{0===n.length||(0,r.CB)(n)?e():o(new Error(t("Block explorer must be a valid URL")))}))),[t]);return(0,P.jsx)(l.FE,{className:`chain_detail ${e}`,resolve:H.awaitStores(["chainStore"]),children:(0,P.jsx)(l.Ar.Base,{onBack:ne,rightFooterButton:{block:!0,disabled:se(),icon:(0,P.jsx)(m.Z,{phosphorIcon:Z.Z,type:"phosphor",weight:"fill"}),loading:R,onClick:ce,children:t("Save")},showBackButton:!0,showSubHeader:!0,subHeaderBackground:"transparent",subHeaderCenter:!0,subHeaderIcons:ie,subHeaderPaddingVertical:!0,title:t("Network detail"),children:(0,P.jsx)("div",{className:"chain_detail__container",children:(0,P.jsx)(k.Z,{disabled:D,form:V,initialValues:le,onFieldsChange:ue,children:(0,P.jsxs)("div",{className:"chain_detail__attributes_container",children:[Object.keys($.providers).length>1?(0,P.jsx)(k.Z.Item,{name:"currentProvider",children:(0,P.jsx)(i.M,{chainInfo:$,disabled:D,value:G.currentProvider})}):(0,P.jsx)(x.Z,{className:"chain_detail__provider_url",content:K,placeholder:t("Provider URL"),prefix:(0,P.jsx)(m.Z,{customSize:"24px",iconColor:M["gray-4"],phosphorIcon:E.Z,type:"phosphor",weight:"bold"}),suffix:de()}),(0,P.jsxs)(g.Z,{gutter:M.paddingSM,children:[(0,P.jsx)(L.Z,{span:16,children:(0,P.jsx)(x.Z,{content:$.name,placeholder:t("Network name"),prefix:(0,P.jsx)(m.Z,{customSize:"24px",iconColor:M["gray-4"],phosphorIcon:w.Z,type:"phosphor",weight:"bold"}),tooltip:t("Network name"),tooltipPlacement:"topLeft"})}),(0,P.jsx)(L.Z,{span:8,children:(0,P.jsx)(x.Z,{content:q,placeholder:t("Symbol"),tooltip:t("Symbol"),tooltipPlacement:"topLeft"})})]}),(0,P.jsxs)(g.Z,{gutter:M.paddingSM,children:[(0,P.jsx)(L.Z,{span:12,children:(0,P.jsx)(x.Z,{content:X,placeholder:t("Decimals"),tooltip:t("Decimals"),tooltipPlacement:"topLeft"})}),(0,P.jsx)(L.Z,{span:12,children:J?(0,P.jsx)(x.Z,{content:ee>-1?ee:"None",placeholder:t("Chain ID"),tooltip:t("Chain ID"),tooltipPlacement:"topLeft"}):(0,P.jsx)(x.Z,{content:Q>-1?Q:void 0,placeholder:t("ParaId"),tooltip:t("ParaId"),tooltipPlacement:"topLeft"})})]}),(0,P.jsxs)(g.Z,{gutter:M.paddingSM,children:[!J&&(0,P.jsx)(L.Z,{span:12,children:(0,P.jsx)(x.Z,{content:te.toString(),placeholder:t("Address prefix"),tooltip:t("Address prefix"),tooltipPlacement:"topLeft"})}),(0,P.jsx)(L.Z,{span:J?24:12,children:(0,P.jsx)(x.Z,{content:re(),placeholder:t("Network type"),tooltip:t("Network type"),tooltipPlacement:"topLeft"})})]}),(0,P.jsx)(k.Z.Item,{name:"blockExplorer",rules:[{validator:he}],statusHelpAsTooltip:!0,children:(0,P.jsx)(y.Z,{placeholder:t("Block explorer"),tooltip:t("Block explorer"),tooltipPlacement:"topLeft"})}),!(0,o.Py)($)&&(0,P.jsx)(k.Z.Item,{name:"crowdloanUrl",rules:[{validator:pe}],statusHelpAsTooltip:!0,children:(0,P.jsx)(y.Z,{placeholder:t("Crowdloan URL"),tooltip:t("Crowdloan URL"),tooltipPlacement:"topLeft"})})]})})})})})})).withConfig({displayName:"ChainDetail",componentId:"sc-napjf0-0"})((({theme:{token:e}})=>({".chain_detail__container":{marginTop:24,marginRight:e.margin,marginLeft:e.margin},".chain_detail__attributes_container":{display:"flex",flexDirection:"column",gap:e.marginSM},".chain_detail__provider_suffix_btn":{height:"auto"},".ant-btn.-size-xs.-icon-only":{minWidth:0},".ant-form-item":{marginBottom:0},".ant-field-container .ant-field-wrapper .ant-field-content-wrapper .ant-field-content":{color:e.colorTextLight5},".chain_detail__provider_url .ant-field-wrapper .ant-field-content-wrapper .ant-field-content":{color:e.colorTextLight1},".web-ui-enable &":{".ant-sw-screen-layout-body":{flex:"0 0 auto",marginBottom:e.marginXS}}})))},21218:(e,t,n)=>{n.d(t,{Z:()=>c});var o=n(2784),r=n(21890),l=n(76712),i=new Map;i.set("bold",(function(e){return o.createElement(o.Fragment,null,o.createElement("path",{d:"M40,91.3V208a8,8,0,0,0,8,8H208a8,8,0,0,0,8-8V48a8,8,0,0,0-8-8H91.3a7.9,7.9,0,0,0-5.6,2.3L42.3,85.7A7.9,7.9,0,0,0,40,91.3Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),o.createElement("circle",{cx:"128",cy:"148",r:"28",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),o.createElement("polyline",{points:"104 80 160 80 160 40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))})),i.set("duotone",(function(e){return o.createElement(o.Fragment,null,o.createElement("path",{d:"M208,40H91.3a7.9,7.9,0,0,0-5.6,2.3L42.3,85.7A7.9,7.9,0,0,0,40,91.3V208a8,8,0,0,0,8,8H208a8,8,0,0,0,8-8V48A8,8,0,0,0,208,40ZM128,176a28,28,0,1,1,28-28A28,28,0,0,1,128,176Z",opacity:"0.2"}),o.createElement("path",{d:"M40,91.3V208a8,8,0,0,0,8,8H208a8,8,0,0,0,8-8V48a8,8,0,0,0-8-8H91.3a7.9,7.9,0,0,0-5.6,2.3L42.3,85.7A7.9,7.9,0,0,0,40,91.3Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),o.createElement("circle",{cx:"128",cy:"148",r:"28",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),o.createElement("polyline",{points:"96 80 160 80 160 40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))})),i.set("fill",(function(){return o.createElement(o.Fragment,null,o.createElement("path",{d:"M208,32H172a4,4,0,0,0-4,4V80a8,8,0,0,1-8,8H96.3A8.2,8.2,0,0,1,88,80.5,8,8,0,0,1,96,72h56V36a4,4,0,0,0-4-4H91.3A15.9,15.9,0,0,0,80,36.7L36.7,80A15.9,15.9,0,0,0,32,91.3V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V48A16,16,0,0,0,208,32ZM128,176a28,28,0,1,1,28-28A28.1,28.1,0,0,1,128,176Z"}))})),i.set("light",(function(e){return o.createElement(o.Fragment,null,o.createElement("path",{d:"M40,91.3V208a8,8,0,0,0,8,8H208a8,8,0,0,0,8-8V48a8,8,0,0,0-8-8H91.3a7.9,7.9,0,0,0-5.6,2.3L42.3,85.7A7.9,7.9,0,0,0,40,91.3Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),o.createElement("circle",{cx:"128",cy:"148",r:"28",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),o.createElement("polyline",{points:"96 80 160 80 160 40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))})),i.set("thin",(function(e){return o.createElement(o.Fragment,null,o.createElement("path",{d:"M40,91.3V208a8,8,0,0,0,8,8H208a8,8,0,0,0,8-8V48a8,8,0,0,0-8-8H91.3a7.9,7.9,0,0,0-5.6,2.3L42.3,85.7A7.9,7.9,0,0,0,40,91.3Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),o.createElement("circle",{cx:"128",cy:"148",r:"28",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),o.createElement("polyline",{points:"96 80 160 80 160 40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))})),i.set("regular",(function(e){return o.createElement(o.Fragment,null,o.createElement("path",{d:"M40,91.3V208a8,8,0,0,0,8,8H208a8,8,0,0,0,8-8V48a8,8,0,0,0-8-8H91.3a7.9,7.9,0,0,0-5.6,2.3L42.3,85.7A7.9,7.9,0,0,0,40,91.3Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),o.createElement("circle",{cx:"128",cy:"148",r:"28",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),o.createElement("polyline",{points:"96 80 160 80 160 40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}));var a=function(e,t){return(0,r._)(e,t,i)},s=(0,o.forwardRef)((function(e,t){return o.createElement(l.Z,Object.assign({ref:t},e,{renderPath:a}))}));s.displayName="FloppyDiskBack";const c=s},50094:(e,t,n)=>{n.d(t,{Z:()=>c});var o=n(2784),r=n(21890),l=n(76712),i=new Map;i.set("bold",(function(e){return o.createElement(o.Fragment,null,o.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),o.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))})),i.set("duotone",(function(e){return o.createElement(o.Fragment,null,o.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),o.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))})),i.set("fill",(function(){return o.createElement(o.Fragment,null,o.createElement("path",{d:"M216,120H136V40a8,8,0,0,0-16,0v80H40a8,8,0,0,0,0,16h80v80a8,8,0,0,0,16,0V136h80a8,8,0,0,0,0-16Z"}))})),i.set("light",(function(e){return o.createElement(o.Fragment,null,o.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),o.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))})),i.set("thin",(function(e){return o.createElement(o.Fragment,null,o.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),o.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))})),i.set("regular",(function(e){return o.createElement(o.Fragment,null,o.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),o.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}));var a=function(e,t){return(0,r._)(e,t,i)},s=(0,o.forwardRef)((function(e,t){return o.createElement(l.Z,Object.assign({ref:t},e,{renderPath:a}))}));s.displayName="Plus";const c=s}}]);