"use strict";(("undefined"!=typeof self?self:this).webpackChunk_subwallet_webapp=("undefined"!=typeof self?self:this).webpackChunk_subwallet_webapp||[]).push([[8615],{38615:(e,t,n)=>{n.r(t),n.d(t,{default:()=>S});var o=n(57801),r=n(48118),i=n(3612),s=n(43557),a=n(73160),l=n(63910),c=n(12798),d=n(99656),p=n(95023),u=n(61882),m=n(92280),h=n(72779),k=n.n(h),f=n(21218),g=n(15322),w=n(2784),y=n(73557),x=n(82575),j=n(52322),L=function(e){return e.PASSWORD="password",e.OLD_PASSWORD="old_password",e.CONFIRM_PASSWORD="confirm_password",e}(L||{});const S=(0,x.ZP)((({className:e})=>{const{t}=(0,s.$G)(),n=(0,y.s0)(),{goHome:h}=(0,s.yu)(),{isWebUI:x}=(0,w.useContext)(i.sG),[S]=c.Z.useForm(),[W,A]=(0,w.useState)(!0),[b,Z]=(0,w.useState)(""),[O,C]=(0,w.useState)(!1),D=(0,w.useMemo)((()=>(0,l.tK)(t("New password"),t)),[t]),H=(0,w.useMemo)((()=>(0,l._B)(L.PASSWORD,t)),[t]),E=(0,w.useCallback)((()=>{n("/settings/security")}),[n]),P=(0,w.useCallback)((e=>{const t=e[L.PASSWORD],n=e[L.OLD_PASSWORD];t&&n&&(C(!0),setTimeout((()=>{(0,a.jSj)({createNew:!1,newPassword:t,oldPassword:n}).then((e=>{null!=e&&e.status?h():S.setFields([{name:L.OLD_PASSWORD,errors:e.errors}])})).catch((e=>{S.setFields([{name:L.OLD_PASSWORD,errors:[e.message]}])})).finally((()=>{C(!1)}))}),1e3))}),[S,h]),_=(0,w.useCallback)(((e,t)=>{const{empty:n,error:o}=(0,l.ij)(t);Z(""),A(o||n)}),[]),R=(0,w.useCallback)((()=>{S.resetFields([L.CONFIRM_PASSWORD])}),[S]);return(0,s.uy)(S,L.OLD_PASSWORD),(0,j.jsx)(o.FE,{className:k()(e),children:(0,j.jsx)(o.Ar.WithSubHeaderOnly,{onBack:E,rightFooterButton:x?void 0:{children:t("Save"),onClick:S.submit,loading:O,disabled:W,icon:(0,j.jsx)(d.Z,{phosphorIcon:f.Z,weight:"fill"})},subHeaderIcons:[{icon:(0,j.jsx)(o.Tw,{}),onClick:h}],title:t("Change password"),children:(0,j.jsxs)("div",{className:k()("body-container",{"__web-ui":x}),children:[!x&&(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{className:"page-icon",children:(0,j.jsx)(p.Z,{color:"var(--page-icon-color)",iconProps:{weight:"fill",phosphorIcon:g.Z}})}),(0,j.jsx)("div",{className:"title",children:t("Change your password")})]}),(0,j.jsxs)("div",{className:"form-container",children:[(0,j.jsx)(o.e3,{description:t("Recommended security practice"),title:t("Always choose a strong password!"),type:"warning"}),(0,j.jsxs)(c.Z,{form:S,initialValues:{[L.OLD_PASSWORD]:"",[L.PASSWORD]:"",[L.CONFIRM_PASSWORD]:""},name:"change-password-form",onFieldsChange:_,onFinish:P,children:[(0,j.jsx)(c.Z.Item,{name:L.OLD_PASSWORD,rules:[{message:t("Password is required"),required:!0}],statusHelpAsTooltip:!0,children:(0,j.jsx)(u.Z,{disabled:O,placeholder:t("Current password"),type:"password"})}),(0,j.jsx)(c.Z.Item,{name:L.PASSWORD,rules:D,statusHelpAsTooltip:!0,children:(0,j.jsx)(u.Z,{disabled:O,onChange:R,placeholder:t("New password"),type:"password"})}),(0,j.jsx)(c.Z.Item,{name:L.CONFIRM_PASSWORD,rules:H,statusHelpAsTooltip:!0,children:(0,j.jsx)(u.Z,{disabled:O,placeholder:t("Confirm new password"),type:"password"})}),b&&(0,j.jsx)(c.Z.Item,{help:b,validateStatus:b&&"error"}),x&&(0,j.jsx)(m.Z,{disabled:W,icon:(0,j.jsx)(d.Z,{phosphorIcon:f.Z,weight:"fill"}),loading:O,onClick:S.submit,children:t("Save")})]})]}),x&&(0,j.jsx)("div",{className:"instruction-container",children:(0,j.jsx)(r.Z,{contents:[{title:"Why do I need to enter a password?",description:"For your wallet protection, SubWallet locks your wallet after 15 minutes of inactivity. You will need this password to unlock it.",type:"warning"},{title:"Can I recover a password?",description:"The password is stored securely on your device. We will not be able to recover it for you, so make sure you remember it!",type:"warning"}]})})]})})})})).withConfig({displayName:"ChangePassword",componentId:"sc-ge77kh-0"})((({theme:{extendToken:e,token:t}})=>({".body-container":{padding:`0 ${t.padding}px`,textAlign:"center","&.__web-ui":{padding:`${t.padding+24}px ${t.padding}px ${t.padding}px`,width:e.twoColumnWidth,maxWidth:"100%",display:"flex",margin:"0 auto",gap:16,".form-container":{display:"flex",flexDirection:"column",gap:16,".ant-btn":{width:"100%"}},"& > *":{flex:1}},".page-icon":{display:"flex",justifyContent:"center",marginTop:t.margin,"--page-icon-color":t.colorSecondary},".title":{marginTop:t.margin,marginBottom:2*t.margin,fontWeight:t.fontWeightStrong,fontSize:t.fontSizeHeading3,lineHeight:t.lineHeightHeading3,color:t.colorTextBase}}})))},48118:(e,t,n)=>{n.d(t,{Z:()=>c});var o=n(57801),r=n(72779),i=n.n(r),s=(n(2784),n(76699)),a=n(82575),l=n(52322);const c=(0,a.ZP)((({className:e,contents:t})=>{const{t:n}=(0,s.$)();return t.length<=0?(0,l.jsx)(l.Fragment,{}):(0,l.jsx)("div",{className:i()("instruction-container",e),children:t.map(((e,t)=>(0,l.jsx)(o.e3,{description:"string"==typeof e.description?n(e.description):e.description,title:n(e.title),type:e.type||"warning"},t)))})})).withConfig({displayName:"InstructionContainer",componentId:"sc-1tjn6f7-0"})((({theme:{token:e}})=>({display:"flex",flexDirection:"column",gap:10,".alert-title.alert-title":{color:e.colorTextLight1}})))},21218:(e,t,n)=>{n.d(t,{Z:()=>c});var o=n(2784),r=n(21890),i=n(76712),s=new Map;s.set("bold",(function(e){return o.createElement(o.Fragment,null,o.createElement("path",{d:"M40,91.3V208a8,8,0,0,0,8,8H208a8,8,0,0,0,8-8V48a8,8,0,0,0-8-8H91.3a7.9,7.9,0,0,0-5.6,2.3L42.3,85.7A7.9,7.9,0,0,0,40,91.3Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),o.createElement("circle",{cx:"128",cy:"148",r:"28",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),o.createElement("polyline",{points:"104 80 160 80 160 40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))})),s.set("duotone",(function(e){return o.createElement(o.Fragment,null,o.createElement("path",{d:"M208,40H91.3a7.9,7.9,0,0,0-5.6,2.3L42.3,85.7A7.9,7.9,0,0,0,40,91.3V208a8,8,0,0,0,8,8H208a8,8,0,0,0,8-8V48A8,8,0,0,0,208,40ZM128,176a28,28,0,1,1,28-28A28,28,0,0,1,128,176Z",opacity:"0.2"}),o.createElement("path",{d:"M40,91.3V208a8,8,0,0,0,8,8H208a8,8,0,0,0,8-8V48a8,8,0,0,0-8-8H91.3a7.9,7.9,0,0,0-5.6,2.3L42.3,85.7A7.9,7.9,0,0,0,40,91.3Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),o.createElement("circle",{cx:"128",cy:"148",r:"28",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),o.createElement("polyline",{points:"96 80 160 80 160 40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))})),s.set("fill",(function(){return o.createElement(o.Fragment,null,o.createElement("path",{d:"M208,32H172a4,4,0,0,0-4,4V80a8,8,0,0,1-8,8H96.3A8.2,8.2,0,0,1,88,80.5,8,8,0,0,1,96,72h56V36a4,4,0,0,0-4-4H91.3A15.9,15.9,0,0,0,80,36.7L36.7,80A15.9,15.9,0,0,0,32,91.3V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V48A16,16,0,0,0,208,32ZM128,176a28,28,0,1,1,28-28A28.1,28.1,0,0,1,128,176Z"}))})),s.set("light",(function(e){return o.createElement(o.Fragment,null,o.createElement("path",{d:"M40,91.3V208a8,8,0,0,0,8,8H208a8,8,0,0,0,8-8V48a8,8,0,0,0-8-8H91.3a7.9,7.9,0,0,0-5.6,2.3L42.3,85.7A7.9,7.9,0,0,0,40,91.3Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),o.createElement("circle",{cx:"128",cy:"148",r:"28",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),o.createElement("polyline",{points:"96 80 160 80 160 40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))})),s.set("thin",(function(e){return o.createElement(o.Fragment,null,o.createElement("path",{d:"M40,91.3V208a8,8,0,0,0,8,8H208a8,8,0,0,0,8-8V48a8,8,0,0,0-8-8H91.3a7.9,7.9,0,0,0-5.6,2.3L42.3,85.7A7.9,7.9,0,0,0,40,91.3Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),o.createElement("circle",{cx:"128",cy:"148",r:"28",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),o.createElement("polyline",{points:"96 80 160 80 160 40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))})),s.set("regular",(function(e){return o.createElement(o.Fragment,null,o.createElement("path",{d:"M40,91.3V208a8,8,0,0,0,8,8H208a8,8,0,0,0,8-8V48a8,8,0,0,0-8-8H91.3a7.9,7.9,0,0,0-5.6,2.3L42.3,85.7A7.9,7.9,0,0,0,40,91.3Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),o.createElement("circle",{cx:"128",cy:"148",r:"28",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),o.createElement("polyline",{points:"96 80 160 80 160 40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}));var a=function(e,t){return(0,r._)(e,t,s)},l=(0,o.forwardRef)((function(e,t){return o.createElement(i.Z,Object.assign({ref:t},e,{renderPath:a}))}));l.displayName="FloppyDiskBack";const c=l}}]);